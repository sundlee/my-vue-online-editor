{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///src/App.vue","webpack:///./src/components/vue-file-tree/path-splitdirs.js","webpack:///./src/components/NavBar.vue?1a3c","webpack:///./src/App.vue?818f","webpack:///./src/App.vue?4c4f","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?6656","webpack:///./src/components/vue-file-tree/vue-file-tree.vue?7cb5","webpack:///./src/components/NavBar.vue?210e","webpack:///src/components/NavBar.vue","webpack:///./src/components/NavBar.vue?c9f9","webpack:///./src/components/NavBar.vue","webpack:///./src/utils/file-saver.js","webpack:///./src/components/vue-file-tree/vue-file-tree.vue?c7ee","webpack:///./src/components/sl-vue-tree/sl-vue-tree.vue?c7a2","webpack:///./src/components/sl-vue-tree/sl-vue-tree.js","webpack:///./src/components/sl-vue-tree/sl-vue-tree.js?0329","webpack:///./src/components/sl-vue-tree/sl-vue-tree.vue","webpack:///src/components/vue-file-tree/vue-file-tree.vue","webpack:///./src/components/vue-file-tree/vue-file-tree.vue?c937","webpack:///./src/components/vue-file-tree/vue-file-tree.vue"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","components","NavBar","VueFileTree","codemirror","selectedZipFile","selectedNode","isLeaf","content","cmOptions","tabSize","autofocus","styleSelectedText","styleActiveLine","lineWrapping","lineNumbers","line","gutters","height","lint","matchBrackets","autoCloseBrackets","sizes","gutterSize","minSize","maxSize","cursor","handlerContent","emptyContent","handlerContentPy","packageContent","mounted","this","Split","onDragEnd","localStorage","setDefaultFile","methods","$refs","filetree","setDefaultNode","$nextTick","addFile","addFolder","importZip","console","nodeClick","event","node","nodeDoubleClick","nodeDrop","handleFileUpload","files","fileNames","file","removeAllNode","new_zip","then","promiseArray","Promise","handleClickDownloadBtn","zip","forEach","type","msg","saveAs","_path","require","normalize","parsePath","isWin32","path2split","match","indexOf","path","win32","posix","parsed","parse","root","dir","dirz","unshift","basename","dirname","dirs","_vm","_h","$createElement","_c","_self","attrs","staticClass","scopedSlots","_u","fn","_v","ref","proxy","_e","on","$event","preventDefault","stopPropagation","arguments","staticRenderFns","component","Vue","use","BootstrapVue","IconsPlugin","config","productionTip","render","h","App","$mount","_m","_global","self","global","bom","blob","opts","autoBom","warn","test","Blob","String","fromCharCode","download","url","xhr","XMLHttpRequest","open","responseType","onload","response","onerror","error","send","corsEnabled","e","status","click","dispatchEvent","MouseEvent","evt","document","createEvent","initMouseEvent","isMacOSWebView","navigator","userAgent","HTMLAnchorElement","URL","webkitURL","a","createElement","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","popup","title","body","innerText","force","isSafari","HTMLElement","safari","isChromeIOS","FileReader","reader","onloadend","replace","readAsDataURL","nodes","nodeSelect","nodeToggle","nodeContextMenu","onExternalDropHandler","isExpanded","_s","staticStyle","handleChangeSelectedInputNodeName","handleBlurSelectedInputNodeName","model","selectedInputNodeName","callback","$$v","$set","expression","renameNode","removeNode","directives","rawName","_t","handleOkSelectedInputFileName","handleHiddenSelectedInputFileName","selectedInputFileName","handleOkSelectedInputFolderName","handleHiddenSelectedInputFolderName","selectedInputFolderName","class","isRoot","onMousemoveHandler","onMouseleaveHandler","onDragendHandler","_l","nodeInd","isSelected","style","cursorPosition","pathStr","placement","depth","onNodeMousedownHandler","onNodeMouseupHandler","emitNodeContextmenu","emitNodeDblclick","emitNodeClick","onExternalDragoverHandler","gapInd","idx","level","showBranches","isLastChild","onToggleHandler","children","allowMultiselect","allowToggleBranch","edgeSize","selectionSize","props","Array","default","Number","Boolean","parentInd","multiselectKey","validator","allowedKeys","multiselectKeys","isArray","filter","keyName","scrollAreaHeight","maxScrollSpeed","rootCursorPosition","scrollIntervalId","scrollSpeed","lastSelectedNode","mouseIsDown","isDragging","lastMousePos","x","y","preventDrag","currentValue","addEventListener","onDocumentMouseupHandler","beforeDestroy","removeEventListener","watch","handler","newValue","deep","computed","getParent","gaps","nodeModels","copy","getNodes","getSelected","dragSize","getDraggable","setCursorPosition","pos","parentPath","isVisible","map","nodeModel","ind","nodePath","concat","getNode","siblings","getNodeSiblings","isDraggable","isSelectable","JSON","stringify","isFirstChild","emitInput","getRoot","$emit","emitSelect","selectedNodes","emitBeforeDrop","draggingNodes","position","cancel","emitDrop","emitToggle","toggledNode","getCursorPositionFromCoords","clientX","clientY","select","addToSelection","multiselectKeyIsPressed","find","newNodes","shiftSelectionMode","shiftKey","shiftSelectionStarted","traverse","initialDraggingState","isDragStarted","$root","$el","rootRect","getBoundingClientRect","$dragInfo","dragInfo","dragInfoTop","top","scrollTop","marginBottom","dragInfoLeft","left","destNode","draggableNodes","scrollBottomLine","bottom","scrollDownSpeed","scrollTopLine","scrollTopSpeed","startScroll","stopScroll","$target","elementFromPoint","$nodeItem","getAttribute","getClosetElementWithPath","nodeHeight","offsetHeight","offsetY","getLastNode","getFirstNode","parentElement","getNodeEl","querySelector","lastNode","getNextNode","resultNode","comparePaths","getPrevNode","prevNodes","path1","path2","button","speed","setInterval","clearInterval","targetNode","draggingNode","stopDrag","checkNodeIsParent","nodeModelsSubjectToInsert","sourceSiblings","draggingNodeModel","cancelled","nodeModelsToInsert","insertModels","traverseModels","_markToDelete","updateNode","$parent","patch","assign","cb","shouldStop","itemPath","remove","paths","pathsStr","destSiblings","destNodeModel","insertInd","insert","sourceNode","destPath","entity","library","contextMenuIsVisible","_state","_feedback","created","found","slvuetree","$contextMenu","clickedOutside","isInWhiteList","el","addPathToTree","isDir","split","curnodes","pathname","newnode","startsWith","endsWith","orderBy","findNode","segments","parentNode","flag","inputSelectedRenameModal","show","handleOkselectedInputNodeName","handleHiddenselectedInputNodeName","findParentNode","findDir","inputSelectedFileNameModal","fileName","inputSelectedFolderNameModal","folderName"],"mappings":"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","file":"js/app.05d58889.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/my-vue-online-editor/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\r\n  <div id=\"app\">\r\n    <nav-bar />\r\n    <div class=\"split\">\r\n      <div id=\"split-0\" class=\"content\">\r\n        <b-card class=\"aside\">\r\n          <template #header>\r\n            <div class=\"explorer-header\">\r\n              <h6 class=\"mb-0\">EXPLORER</h6>\r\n              <b-dropdown\r\n                ref=\"plusDropdownBtn\"\r\n                right\r\n                variant=\"link\"\r\n                class=\"plus-button\"\r\n                no-caret\r\n              >\r\n                <template #button-content>\r\n                  <span class=\"btn-more text-dark\">\r\n                    <b-icon icon=\"plus\"></b-icon>\r\n                  </span>\r\n                </template>\r\n                <b-dropdown-item-button \r\n                  v-if=\"!selectedNode.isLeaf\"\r\n                  @click.prevent.stop=\"addFile\"\r\n                >\r\n                  새 파일\r\n                </b-dropdown-item-button>\r\n                <b-dropdown-item-button\r\n                  v-if=\"!selectedNode.isLeaf\"\r\n                  @click.prevent.stop=\"addFolder\"\r\n                >\r\n                  새 폴더\r\n                </b-dropdown-item-button>\r\n                <b-dropdown-divider v-if=\"!selectedNode.isLeaf\" />\r\n                <b-dropdown-item-button>\r\n                  <div class=\"filebox\">\r\n                    <label for=\"fileDialog\">zip 파일</label>\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"fileDialog\"\r\n                      ref=\"file\"\r\n                      accept=\".zip\"\r\n                      hidden\r\n                      @change=\"handleFileUpload()\"\r\n                    >\r\n                  </div>\r\n                </b-dropdown-item-button>\r\n              </b-dropdown>\r\n            </div>\r\n          </template>\r\n\r\n          <vue-file-tree \r\n            id=\"file-tree\"\r\n            ref=\"filetree\"\r\n            class=\"column\"\r\n            @nodeClick=\"nodeClick\"\r\n            @nodeDoubleClick=\"nodeDoubleClick\"\r\n            @nodeDrop=\"nodeDrop\"\r\n          />\r\n\r\n        </b-card>\r\n      </div>\r\n      <div id=\"split-1\" class=\"content\">\r\n        <div class=\"editor-top\">\r\n          <b-button variant=\"primary\">저장</b-button>\r\n        </div>\r\n        <codemirror\r\n          ref=\"codemirror\"\r\n          :value=\"selectedNode.data.content\"\r\n          :options=\"cmOptions\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Split from 'split.js';\r\nimport JSZip from 'jszip';\r\nimport { saveAs } from '@/utils/file-saver';\r\nimport VueFileTree  from '@/components/vue-file-tree/vue-file-tree.vue';\r\nimport { codemirror } from 'vue-codemirror';\r\nimport 'codemirror/lib/codemirror.css';\r\nimport 'codemirror/addon/lint/lint.css';\r\nimport 'codemirror/lib/codemirror';\r\nimport 'codemirror/mode/javascript/javascript';\r\nimport 'codemirror/mode/css/css';\r\nimport 'codemirror/addon/lint/json-lint';\r\nimport 'codemirror/addon/selection/active-line';\r\nimport NavBar from './components/NavBar.vue';\r\n\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    NavBar,\r\n    VueFileTree,\r\n    codemirror,\r\n  },\r\n  data() {\r\n    return {\r\n      selectedZipFile: null,\r\n      selectedNode: { isLeaf: false, data: { content: '' } },\r\n\r\n      cmOptions: {\r\n        tabSize: 2,\r\n        autofocus: true,\r\n        styleSelectedText: true,\r\n        mode: 'text/javascript',\r\n        styleActiveLine: true,\r\n        lineWrapping: true,\r\n        lineNumbers: true,\r\n        line: true,\r\n        gutters: ['CodeMirror-lint-markers'],\r\n        height: 'auto',\r\n        lint: true,\r\n        matchBrackets: true,\r\n        autoCloseBrackets: true,\r\n      },\r\n      sizes: [20, 80],\r\n      gutterSize: 5,\r\n      minSize: [150, 300],\r\n      maxSize: [500, Infinity],\r\n      cursor: 'col-resize',\r\n      handlerContent: '\"use strict\";\\n\\nmodule.exports = async (context, callback) => {\\n    return {status: \"handlerJs\"};\\n}',\r\n      emptyContent: '',\r\n      handlerContentPy: '\"use strict\";\\n\\nmodule.exports = async (context, callback) => {\\n    return {status: \"handlerPy\"};\\n}',\r\n      packageContent: '{\\n  \"name\": \"examplejs\",\\n  \"version\": \"0.1.0\",\\n  \"private\": true,\\n  \"scripts\": {\\n    \"serve\": \"vue-cli-service serve\",\\n    \"build\": \"vue-cli-service build\",\\n    \"lint\": \"vue-cli-service lint\"\\n  }\\n}',\r\n    };\r\n  },\r\n  mounted() {\r\n    let sizes = localStorage.getItem('split-sizes')\r\n    if (sizes) {\r\n      sizes = JSON.parse(sizes);\r\n    } else {\r\n      sizes = [20, 80];\r\n    }\r\n    this.sizes = sizes;\r\n\r\n    Split(['#split-0', '#split-1'], {\r\n      sizes,\r\n      gutterSize: this.gutterSize,\r\n      minSize: this.minSize,\r\n      maxSize: this.maxSize,\r\n      cursor: this.cursor,\r\n      onDragEnd: function (sizes) {\r\n        localStorage.setItem('split-sizes', JSON.stringify(sizes))\r\n      },\r\n    });\r\n\r\n    // this.$refs.filetree.addPathToTree('_TREE_ROOT_NODE_', 'N/A', true);\r\n    // this.$refs.filetree.addPathToTree('_TREE_ROOT_NODE_/src/handler.py', this.handlerContentPy, false);\r\n    // this.$refs.filetree.addPathToTree('_TREE_ROOT_NODE_/package.json', this.packageContent, false);\r\n    // this.$refs.filetree.addPathToTree('_TREE_ROOT_NODE_/handler.js', this.handlerContent, false);\r\n\r\n    this.setDefaultFile();\r\n  },\r\n  methods: {\r\n    setDefaultFile() {\r\n      this.$refs.filetree.setDefaultNode();\r\n      const node = this.$refs.filetree.getSelected();\r\n      // console.log('setDefaultFile() - node: ', node);\r\n      this.$nextTick(() => {\r\n        this.selectedNode = node[0];\r\n      });\r\n    },\r\n    addFile() {\r\n      this.$refs.filetree.addFile(this.selectedNode);\r\n    },\r\n    addFolder() {\r\n      this.$refs.filetree.addFolder(this.selectedNode);\r\n    },\r\n    importZip() {\r\n      console.log('importZip is called.');\r\n    },\r\n    nodeClick(event, node) {\r\n      this.selectedNode = node;\r\n      // console.log('nodeClick: ', node.title);\r\n    },\r\n    nodeDoubleClick(node) {\r\n      console.log('nodeDoubleClick: ', node.title);\r\n    },\r\n    nodeDrop(node) {\r\n      console.log('nodeDrop: ', node.title);\r\n    },\r\n    handleFileUpload() {\r\n      this.files = [];\r\n      this.fileNames = [];\r\n      this.selectedZipFile = this.$refs.file.files[0];\r\n      // console.log(this.selectedZipFile.name);\r\n\r\n      this.$refs.filetree.removeAllNode();\r\n\r\n      var new_zip = new JSZip();\r\n      new_zip.loadAsync(this.selectedZipFile)\r\n        .then((zip) => {\r\n          this.rawFileNames = Object.keys(zip.files);\r\n          // console.log(this.rawFileNames);\r\n          \r\n          const promiseArray = [];\r\n          this.rawFileNames.forEach((file) => {\r\n            if (!file.endsWith('/')) {\r\n              this.fileNames.push(file);\r\n              promiseArray.push(zip.file(file).async('uint8array'));\r\n            }\r\n          });\r\n          Promise.all(promiseArray)\r\n            .then((data) => {\r\n              // console.log(data);\r\n              this.fileNames.forEach((file, idx) => {\r\n                this.files.push({\r\n                  name: file,\r\n                  content: data[idx],\r\n                });\r\n                const str = Buffer.from(data[idx]).toString();\r\n                this.$refs.filetree.addPathToTree(`_TREE_ROOT_NODE_/${file}`, str, false);\r\n              });\r\n              \r\n              this.setDefaultFile();\r\n            });\r\n        });\r\n    },\r\n    handleClickDownloadBtn() {\r\n      var zip = new JSZip();\r\n\r\n      this.files.forEach((file) => {\r\n        zip.file(file.name, file.content);\r\n      });\r\n\r\n      zip.generateAsync({ type: \"blob\" }, function updateCallback(metadata) {\r\n          var msg = \"progression: \" + metadata.percent.toFixed(2) + \" %\";\r\n          if(metadata.currentFile) {\r\n              msg += \", current file = \" + metadata.currentFile;\r\n          }\r\n          console.log(msg);\r\n      })\r\n      .then(function callback(blob) {\r\n          saveAs(blob, \"example.zip\");\r\n\r\n          console.log(\"done !\");\r\n      }, function (e) {\r\n          console.log(e);\r\n      });\r\n    },\r\n  },  \r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nbody {\r\n  background: white;\r\n  font-family: Arial;\r\n  color: #2F4F4F;\r\n  height: 100vh;\r\n}\r\n\r\n#app {\r\n  height: 100%;\r\n}\r\n\r\n.split {\r\n  width: 100%;\r\n  height: calc(100% - 97px);\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  .content {\r\n    border: 1px solid #c0c0c0;\r\n    box-shadow: inset 0 1px 2px #e4e4e4;\r\n    background-color: #fff;\r\n    font-size: 14px;\r\n\r\n    .aside {\r\n      margin: 0;\r\n      height: 100%;\r\n      .explorer-header {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        .plus-button {\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n          .dropdown-menu.show {\r\n            width: 110px;\r\n            left: -16px !important;\r\n            font-size: 13px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .card-body {\r\n      padding: 0;\r\n    }\r\n  }\r\n  #split-1 {\r\n    height: 100%;\r\n    .editor-top {\r\n      height: 50px;\r\n      background-color: #eeeeee;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      align-items: center;\r\n      padding-right: 20px;\r\n      .btn.btn-primary {\r\n        height: 40px;\r\n      }\r\n    }\r\n    .vue-codemirror {\r\n      height: 100%;\r\n      .CodeMirror {\r\n      height: 100%;\r\n  }\r\n    }\r\n  }\r\n}\r\n.gutter {\r\n  background-color: #eee;\r\n  background-repeat: no-repeat;\r\n  background-position: 50%;\r\n}\r\n.gutter.gutter-horizontal {\r\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');\r\n  cursor: col-resize;\r\n}\r\n\r\n</style>\r\n","\r\nconst _path = require('path');\r\nconst normalize = require('normalize-path');\r\nconst parsePath = require('parse-filepath');\r\n\r\nlet isWin32 = false;\r\nlet isPosix = true;\r\n\r\nmodule.exports = function(path2split) {\r\n    path2split = normalize(path2split);\r\n    if (path2split.match(/^[a-zA-Z]\\:/)) { isWin32 = true; isPosix = false; }\r\n    if (path2split.indexOf('\\\\') >= 0) { isWin32 = true; isPosix = false; }\r\n    let path = isWin32 ? _path.win32 : _path.posix;\r\n    if (!path) path = _path;\r\n    let parsed = path.parse ? path.parse(path2split) : parsePath(path2split);\r\n    if (parsed.root === '') parsed.root = '.';\r\n    let dir = parsed.dir;\r\n    let dirz = [];\r\n    // dirz.push(path.basename(path2split));\r\n    do {\r\n        dirz.unshift(path.basename(dir));\r\n        dir = path.dirname(dir);\r\n    } while (dir !== parsed.root);\r\n    parsed.dirs = dirz;\r\n    return parsed;\r\n}\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('nav-bar'),_c('div',{staticClass:\"split\"},[_c('div',{staticClass:\"content\",attrs:{\"id\":\"split-0\"}},[_c('b-card',{staticClass:\"aside\",scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('div',{staticClass:\"explorer-header\"},[_c('h6',{staticClass:\"mb-0\"},[_vm._v(\"EXPLORER\")]),_c('b-dropdown',{ref:\"plusDropdownBtn\",staticClass:\"plus-button\",attrs:{\"right\":\"\",\"variant\":\"link\",\"no-caret\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('span',{staticClass:\"btn-more text-dark\"},[_c('b-icon',{attrs:{\"icon\":\"plus\"}})],1)]},proxy:true}])},[(!_vm.selectedNode.isLeaf)?_c('b-dropdown-item-button',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addFile.apply(null, arguments)}}},[_vm._v(\" 새 파일 \")]):_vm._e(),(!_vm.selectedNode.isLeaf)?_c('b-dropdown-item-button',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addFolder.apply(null, arguments)}}},[_vm._v(\" 새 폴더 \")]):_vm._e(),(!_vm.selectedNode.isLeaf)?_c('b-dropdown-divider'):_vm._e(),_c('b-dropdown-item-button',[_c('div',{staticClass:\"filebox\"},[_c('label',{attrs:{\"for\":\"fileDialog\"}},[_vm._v(\"zip 파일\")]),_c('input',{ref:\"file\",attrs:{\"type\":\"file\",\"id\":\"fileDialog\",\"accept\":\".zip\",\"hidden\":\"\"},on:{\"change\":function($event){return _vm.handleFileUpload()}}})])])],1)],1)]},proxy:true}])},[_c('vue-file-tree',{ref:\"filetree\",staticClass:\"column\",attrs:{\"id\":\"file-tree\"},on:{\"nodeClick\":_vm.nodeClick,\"nodeDoubleClick\":_vm.nodeDoubleClick,\"nodeDrop\":_vm.nodeDrop}})],1)],1),_c('div',{staticClass:\"content\",attrs:{\"id\":\"split-1\"}},[_c('div',{staticClass:\"editor-top\"},[_c('b-button',{attrs:{\"variant\":\"primary\"}},[_vm._v(\"저장\")])],1),_c('codemirror',{ref:\"codemirror\",attrs:{\"value\":_vm.selectedNode.data.content,\"options\":_vm.cmOptions}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9f5f1332&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport { BootstrapVue, IconsPlugin } from \"bootstrap-vue\"; \r\n\r\n// Make BootstrapVue available throughout your project \r\nVue.use(BootstrapVue); \r\n// Optionally install the BootstrapVue icon components plugin \r\nVue.use(IconsPlugin); \r\n\r\n// Import Bootstrap an BootstrapVue CSS files (order is important) \r\nimport \"bootstrap/dist/css/bootstrap.css\"; \r\nimport \"bootstrap-vue/dist/bootstrap-vue.css\";\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n}).$mount('#app')\r\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-tree.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',[_c('h1',[_vm._v(\"Online Code Editor Example\")]),_c('div',{staticClass:\"description\"},[_c('a',{attrs:{\"href\":\"https://github.com/robogeek/vue-file-tree\"}},[_vm._v(\"vue-file-tree\")]),_vm._v(\"와 \"),_c('a',{attrs:{\"href\":\"https://www.npmjs.com/package/vue-codemirror\"}},[_vm._v(\"vue-codemirror\")]),_vm._v(\"를 사용해서 Online Code Editor를 구성한 예제입니다. \")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <nav>\r\n    <h1>Online Code Editor Example</h1>\r\n    <div class=\"description\">\r\n      <a href=\"https://github.com/robogeek/vue-file-tree\">vue-file-tree</a>와 <a href=\"https://www.npmjs.com/package/vue-codemirror\">vue-codemirror</a>를 사용해서 Online Code Editor를 구성한 예제입니다.\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'NavBar',\r\n};\r\n</script>\r\n\r\n<style>\r\nnav {\r\n  padding: 0 0 20px 2px;\r\n}\r\n.description {\r\n  font-size: 14px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavBar.vue?vue&type=template&id=47725df5&\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\r\n* FileSaver.js\r\n* A saveAs() FileSaver implementation.\r\n*\r\n* By Eli Grey, http://eligrey.com\r\n*\r\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\r\n* source  : http://purl.eligrey.com/github/FileSaver.js\r\n*/\r\n\r\n// The one and only way of getting global scope in all environments\r\n// https://stackoverflow.com/q/3277182/1008999\r\nvar _global = typeof window === 'object' && window.window === window\r\n  ? window : typeof self === 'object' && self.self === self\r\n  ? self : typeof global === 'object' && global.global === global\r\n  ? global\r\n  : this\r\n\r\nfunction bom (blob, opts) {\r\n  if (typeof opts === 'undefined') opts = { autoBom: false }\r\n  else if (typeof opts !== 'object') {\r\n    console.warn('Deprecated: Expected third argument to be a object')\r\n    opts = { autoBom: !opts }\r\n  }\r\n\r\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\r\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\r\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\r\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\r\n  }\r\n  return blob\r\n}\r\n\r\nfunction download (url, name, opts) {\r\n  var xhr = new XMLHttpRequest()\r\n  xhr.open('GET', url)\r\n  xhr.responseType = 'blob'\r\n  xhr.onload = function () {\r\n    saveAs(xhr.response, name, opts)\r\n  }\r\n  xhr.onerror = function () {\r\n    console.error('could not download file')\r\n  }\r\n  xhr.send()\r\n}\r\n\r\nfunction corsEnabled (url) {\r\n  var xhr = new XMLHttpRequest()\r\n  // use sync to avoid popup blocker\r\n  xhr.open('HEAD', url, false)\r\n  try {\r\n    xhr.send()\r\n  } catch (e) {}\r\n  return xhr.status >= 200 && xhr.status <= 299\r\n}\r\n\r\n// `a.click()` doesn't work for all browsers (#465)\r\nfunction click (node) {\r\n  try {\r\n    node.dispatchEvent(new MouseEvent('click'))\r\n  } catch (e) {\r\n    var evt = document.createEvent('MouseEvents')\r\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\r\n                          20, false, false, false, false, 0, null)\r\n    node.dispatchEvent(evt)\r\n  }\r\n}\r\n\r\n// Detect WebView inside a native macOS app by ruling out all browsers\r\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\r\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\r\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\r\n\r\nvar saveAs = _global.saveAs || (\r\n  // probably in some web worker\r\n  (typeof window !== 'object' || window !== _global)\r\n    ? function saveAs () { /* noop */ }\r\n\r\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\r\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\r\n  ? function saveAs (blob, name, opts) {\r\n    var URL = _global.URL || _global.webkitURL\r\n    var a = document.createElement('a')\r\n    name = name || blob.name || 'download'\r\n\r\n    a.download = name\r\n    a.rel = 'noopener' // tabnabbing\r\n\r\n    // TODO: detect chrome extensions & packaged apps\r\n    // a.target = '_blank'\r\n\r\n    if (typeof blob === 'string') {\r\n      // Support regular links\r\n      a.href = blob\r\n      if (a.origin !== location.origin) {\r\n        corsEnabled(a.href)\r\n          ? download(blob, name, opts)\r\n          : click(a, a.target = '_blank')\r\n      } else {\r\n        click(a)\r\n      }\r\n    } else {\r\n      // Support blobs\r\n      a.href = URL.createObjectURL(blob)\r\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\r\n      setTimeout(function () { click(a) }, 0)\r\n    }\r\n  }\r\n\r\n  // Use msSaveOrOpenBlob as a second approach\r\n  : 'msSaveOrOpenBlob' in navigator\r\n  ? function saveAs (blob, name, opts) {\r\n    name = name || blob.name || 'download'\r\n\r\n    if (typeof blob === 'string') {\r\n      if (corsEnabled(blob)) {\r\n        download(blob, name, opts)\r\n      } else {\r\n        var a = document.createElement('a')\r\n        a.href = blob\r\n        a.target = '_blank'\r\n        setTimeout(function () { click(a) })\r\n      }\r\n    } else {\r\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\r\n    }\r\n  }\r\n\r\n  // Fallback to using FileReader and a popup\r\n  : function saveAs (blob, name, opts, popup) {\r\n    // Open a popup immediately do go around popup blocker\r\n    // Mostly only available on user interaction and the fileReader is async so...\r\n    popup = popup || open('', '_blank')\r\n    if (popup) {\r\n      popup.document.title =\r\n      popup.document.body.innerText = 'downloading...'\r\n    }\r\n\r\n    if (typeof blob === 'string') return download(blob, name, opts)\r\n\r\n    var force = blob.type === 'application/octet-stream'\r\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\r\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\r\n\r\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\r\n      // Safari doesn't allow downloading of blob URLs\r\n      var reader = new FileReader()\r\n      reader.onloadend = function () {\r\n        var url = reader.result\r\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\r\n        if (popup) popup.location.href = url\r\n        else location = url\r\n        popup = null // reverse-tabnabbing #460\r\n      }\r\n      reader.readAsDataURL(blob)\r\n    } else {\r\n      var URL = _global.URL || _global.webkitURL\r\n      var url = URL.createObjectURL(blob)\r\n      if (popup) popup.location = url\r\n      else location.href = url\r\n      popup = null // reverse-tabnabbing #460\r\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\r\n    }\r\n  }\r\n)\r\n\r\n_global.saveAs = saveAs.saveAs = saveAs\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = saveAs;\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('sl-vue-tree',{ref:\"slvuetree\",attrs:{\"id\":\"vue-file-tree\",\"value\":_vm.nodes,\"allowMultiselect\":false},on:{\"nodeclick\":_vm.nodeClick,\"nodedblclick\":_vm.nodeDoubleClick,\"select\":_vm.nodeSelect,\"toggle\":_vm.nodeToggle,\"drop\":_vm.nodeDrop,\"nodecontextmenu\":_vm.nodeContextMenu,\"externaldrop\":function($event){$event.preventDefault();return _vm.onExternalDropHandler.apply(null, arguments)}},scopedSlots:_vm._u([{key:\"toggle\",fn:function(ref){\nvar node = ref.node;\nreturn [(!node.isLeaf)?_c('span',[(!node.isExpanded)?_c('font-awesome-icon',{attrs:{\"icon\":\"caret-right\"}}):(node.isExpanded)?_c('font-awesome-icon',{attrs:{\"icon\":\"caret-down\"}}):_vm._e()],1):_vm._e()]}},{key:\"title\",fn:function(ref){\nvar node = ref.node;\nreturn [(node.title !== '_TREE_INPUT_FORM_')?_c('span',[(node.data.type === \"application/javascript\")?_c('font-awesome-icon',{attrs:{\"icon\":[ 'fab', 'js' ]}}):(node.data.type === \"application/json\")?_c('font-awesome-icon',{attrs:{\"icon\":\"table\"}}):(node.data.type === \"IMAGE\")?_c('font-awesome-icon',{attrs:{\"icon\":\"image\"}}):(node.data.type === \"EJS\")?_c('font-awesome-icon',{attrs:{\"icon\":\"code\"}}):(node.data.type === \"VUEJS\")?_c('font-awesome-icon',{attrs:{\"icon\":[ 'fab', 'vuejs' ]}}):(node.isLeaf)?_c('font-awesome-icon',{attrs:{\"icon\":\"file\"}}):_vm._e(),_vm._v(\" \"+_vm._s(node.title === '_TREE_ROOT_NODE_' ? '/' : node.title)+\" \")],1):_c('b-form-input',{staticClass:\"node-name-input-form\",staticStyle:{\"height\":\"27px\"},attrs:{\"autofocus\":\"\"},on:{\"input\":_vm.handleChangeSelectedInputNodeName,\"blur\":function($event){return _vm.handleBlurSelectedInputNodeName(node)}},model:{value:(_vm.selectedInputNodeName.value),callback:function ($$v) {_vm.$set(_vm.selectedInputNodeName, \"value\", $$v)},expression:\"selectedInputNodeName.value\"}})]}},{key:\"sidebar\",fn:function(ref){\nvar node = ref.node;\nreturn [(node.title !== '_TREE_ROOT_NODE_')?_c('b-dropdown',{ref:\"plusDropdownBtn\",staticClass:\"plus-button\",attrs:{\"right\":\"\",\"variant\":\"link\",\"no-caret\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('font-awesome-icon',{staticStyle:{\"color\":\"#999999\",\"font-size\":\"13px\"},attrs:{\"icon\":\"ellipsis-h\"}})]},proxy:true}],null,true)},[_c('b-dropdown-item-button',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.renameNode(node)}}},[_vm._v(\" 이름 변경 \")]),_c('b-dropdown-item-button',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.removeNode(node)}}},[_vm._v(\" 삭제 \")])],1):_vm._e()]}}])}),_c('aside',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.contextMenuIsVisible),expression:\"contextMenuIsVisible\"}],ref:\"contextmenu\",staticClass:\"menu vue-file-tree-contextmenu\"},[_vm._t(\"context-menu\")],2),_c('b-modal',{ref:\"inputSelectedFileNameModal\",attrs:{\"title\":\"파일 추가\"},on:{\"ok\":_vm.handleOkSelectedInputFileName,\"hidden\":_vm.handleHiddenSelectedInputFileName}},[_c('div',{staticClass:\"d-block text-center\"},[_c('p',[_vm._v(\"추가할 파일 이름을 입력해주세요.\")])]),_c('b-form-input',{attrs:{\"placeholder\":\"Enter file name\",\"autofocus\":\"\"},model:{value:(_vm.selectedInputFileName),callback:function ($$v) {_vm.selectedInputFileName=$$v},expression:\"selectedInputFileName\"}})],1),_c('b-modal',{ref:\"inputSelectedFolderNameModal\",attrs:{\"title\":\"폴더 추가\"},on:{\"ok\":_vm.handleOkSelectedInputFolderName,\"hidden\":_vm.handleHiddenSelectedInputFolderName}},[_c('div',{staticClass:\"d-block text-center\"},[_c('p',[_vm._v(\"추가할 폴더 이름을 입력해주세요.\")])]),_c('b-form-input',{attrs:{\"placeholder\":\"Enter folder name\",\"autofocus\":\"\"},model:{value:(_vm.selectedInputFolderName),callback:function ($$v) {_vm.selectedInputFolderName=$$v},expression:\"selectedInputFolderName\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sl-vue-tree\",class:{'sl-vue-tree-root': _vm.isRoot },on:{\"mousemove\":_vm.onMousemoveHandler,\"mouseleave\":_vm.onMouseleaveHandler,\"dragend\":function($event){return _vm.onDragendHandler(null, $event)}}},[_c('div',{ref:\"nodes\",staticClass:\"sl-vue-tree-nodes-list\"},[_vm._l((_vm.nodes),function(node,nodeInd){return _c('div',{key:(\"tree-node-\" + nodeInd),staticClass:\"sl-vue-tree-node\",class:{'sl-vue-tree-selected': node.isSelected }},[_c('div',{staticClass:\"sl-vue-tree-cursor sl-vue-tree-cursor_before\",style:({\n          'visibility': _vm.cursorPosition &&\n            _vm.cursorPosition.node.pathStr === node.pathStr &&\n            _vm.cursorPosition.placement === 'before' ?\n            'visible' :\n            'hidden',\n          '--depth': _vm.depth\n        }),on:{\"dragover\":function($event){$event.preventDefault();}}}),_c('div',{staticClass:\"sl-vue-tree-node-item\",class:{\n          'sl-vue-tree-cursor-hover':\n            _vm.cursorPosition &&\n            _vm.cursorPosition.node.pathStr === node.pathStr,\n\n          'sl-vue-tree-cursor-inside':\n            _vm.cursorPosition &&\n            _vm.cursorPosition.placement === 'inside' &&\n            _vm.cursorPosition.node.pathStr === node.pathStr,\n          'sl-vue-tree-node-is-leaf' : node.isLeaf,\n          'sl-vue-tree-node-is-folder' : !node.isLeaf\n        },attrs:{\"path\":node.pathStr},on:{\"mousedown\":function($event){return _vm.onNodeMousedownHandler($event, node)},\"mouseup\":function($event){return _vm.onNodeMouseupHandler($event, node)},\"contextmenu\":function($event){return _vm.emitNodeContextmenu(node, $event)},\"dblclick\":function($event){return _vm.emitNodeDblclick(node, $event)},\"click\":function($event){return _vm.emitNodeClick(node, $event)},\"dragover\":function($event){return _vm.onExternalDragoverHandler(node, $event)},\"drop\":function($event){return _vm.onExternalDropHandler(node, $event)}}},[_vm._l((_vm.gaps),function(gapInd,idx){return _c('div',{key:(\"tree-gap-\" + idx),staticClass:\"sl-vue-tree-gap\"})}),(_vm.level && _vm.showBranches)?_c('div',{staticClass:\"sl-vue-tree-branch\"},[_vm._t(\"branch\",function(){return [(!node.isLastChild)?_c('span',[_vm._v(\" \"+_vm._s(String.fromCharCode(0x251C))+_vm._s(String.fromCharCode(0x2500))+\"  \")]):_vm._e(),(node.isLastChild)?_c('span',[_vm._v(\" \"+_vm._s(String.fromCharCode(0x2514))+_vm._s(String.fromCharCode(0x2500))+\"  \")]):_vm._e()]},{\"node\":node})],2):_vm._e(),_c('div',{staticClass:\"sl-vue-tree-title\"},[(!node.isLeaf)?_c('span',{staticClass:\"sl-vue-tree-toggle\",on:{\"click\":function($event){return _vm.onToggleHandler($event, node)}}},[_vm._t(\"toggle\",function(){return [_c('span',[_vm._v(\" \"+_vm._s(!node.isLeaf ? (node.isExpanded ? '-' : '+') : '')+\" \")])]},{\"node\":node})],2):_vm._e(),_vm._t(\"title\",function(){return [_vm._v(_vm._s(node.title))]},{\"node\":node}),(!node.isLeaf && node.children.length == 0 && node.isExpanded)?_vm._t(\"empty-node\",null,{\"node\":node}):_vm._e()],2),_c('div',{staticClass:\"sl-vue-tree-sidebar\"},[_vm._t(\"sidebar\",null,{\"node\":node})],2)],2),(node.children && node.children.length && node.isExpanded)?_c('sl-vue-tree',{attrs:{\"value\":node.children,\"level\":node.level,\"parentInd\":nodeInd,\"allowMultiselect\":_vm.allowMultiselect,\"allowToggleBranch\":_vm.allowToggleBranch,\"edgeSize\":_vm.edgeSize,\"showBranches\":_vm.showBranches},on:{\"dragover\":function($event){$event.preventDefault();}},scopedSlots:_vm._u([{key:\"title\",fn:function(ref){\n        var node = ref.node;\nreturn [_vm._t(\"title\",function(){return [_vm._v(_vm._s(node.title))]},{\"node\":node})]}},{key:\"toggle\",fn:function(ref){\n        var node = ref.node;\nreturn [_vm._t(\"toggle\",function(){return [_c('span',[_vm._v(\" \"+_vm._s(!node.isLeaf ? (node.isExpanded ? '-' : '+') : '')+\" \")])]},{\"node\":node})]}},{key:\"sidebar\",fn:function(ref){\n        var node = ref.node;\nreturn [_vm._t(\"sidebar\",null,{\"node\":node})]}},{key:\"empty-node\",fn:function(ref){\n        var node = ref.node;\nreturn [(!node.isLeaf && node.children.length == 0 && node.isExpanded)?_vm._t(\"empty-node\",null,{\"node\":node}):_vm._e()]}}],null,true)}):_vm._e(),_c('div',{staticClass:\"sl-vue-tree-cursor sl-vue-tree-cursor_after\",style:({\n      'visibility': _vm.cursorPosition &&\n        _vm.cursorPosition.node.pathStr === node.pathStr &&\n        _vm.cursorPosition.placement === 'after' ?\n        'visible' :\n        'hidden',\n      '--depth': _vm.depth\n    }),on:{\"dragover\":function($event){$event.preventDefault();}}})],1)}),(_vm.isRoot)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isDragging),expression:\"isDragging\"}],ref:\"dragInfo\",staticClass:\"sl-vue-tree-drag-info\"},[_vm._t(\"draginfo\",function(){return [_vm._v(\" Items: \"+_vm._s(_vm.selectionSize)+\" \")]})],2):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\nexport default {\r\n  name: 'sl-vue-tree',\r\n  props: {\r\n    value: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    edgeSize: {\r\n      type: Number,\r\n      default: 3\r\n    },\r\n    showBranches: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    level: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    parentInd: {\r\n      type: Number\r\n    },\r\n    allowMultiselect: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    allowToggleBranch: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    multiselectKey: {\r\n      type: [String, Array],\r\n      default: function () {\r\n        return ['ctrlKey', 'metaKey']\r\n      },\r\n      validator: function (value) {\r\n        let allowedKeys = ['ctrlKey', 'metaKey', 'altKey'];\r\n        let multiselectKeys = Array.isArray(value) ? value : [value];\r\n        multiselectKeys = multiselectKeys.filter(keyName => allowedKeys.indexOf(keyName ) !== -1);\r\n        return !!multiselectKeys.length;\r\n      }\r\n    },\r\n    scrollAreaHeight: {\r\n      type: Number,\r\n      default: 70\r\n    },\r\n    maxScrollSpeed: {\r\n      type: Number,\r\n      default: 20\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      rootCursorPosition: null,\r\n      scrollIntervalId: 0,\r\n      scrollSpeed: 0,\r\n      lastSelectedNode: null,\r\n      mouseIsDown: false,\r\n      isDragging: false,\r\n      lastMousePos: {x: 0, y: 0},\r\n      preventDrag: false,\r\n      currentValue: this.value\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    if (this.isRoot) {\r\n      document.addEventListener('mouseup', this.onDocumentMouseupHandler);\r\n    }\r\n  },\r\n\r\n  beforeDestroy() {\r\n    document.removeEventListener('mouseup', this.onDocumentMouseupHandler);\r\n  },\r\n\r\n  watch: {\r\n    value: {\r\n      handler(newValue) {\r\n        this.currentValue = newValue;\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    cursorPosition() {\r\n      if (this.isRoot) return this.rootCursorPosition;\r\n      return this.getParent().cursorPosition;\r\n    },\r\n\r\n    depth() {\r\n      return this.gaps.length\r\n    },\r\n\r\n    nodes() {\r\n      if (this.isRoot) {\r\n        const nodeModels = this.copy(this.currentValue);\r\n        return this.getNodes(nodeModels);\r\n      }\r\n\r\n      return this.getParent().nodes[this.parentInd].children;\r\n    },\r\n    /**\r\n   * gaps is using for nodes indentation\r\n   * @returns {number[]}\r\n   */\r\n    gaps() {\r\n      const gaps = [];\r\n      let i = this.level - 1;\r\n      if (!this.showBranches) i++;\r\n      while (i-- > 0) gaps.push(i);\r\n      return gaps;\r\n    },\r\n\r\n    isRoot() {\r\n      return !this.level\r\n    },\r\n\r\n    selectionSize() {\r\n      return this.getSelected().length;\r\n    },\r\n\r\n    dragSize() {\r\n      return this.getDraggable().length;\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    setCursorPosition(pos) {\r\n      if (this.isRoot) {\r\n        this.rootCursorPosition = pos;\r\n        return;\r\n      }\r\n      this.getParent().setCursorPosition(pos);\r\n    },\r\n\r\n    getNodes(nodeModels, parentPath = [], isVisible = true) {\r\n\r\n      return nodeModels.map((nodeModel, ind) => {\r\n        const nodePath = parentPath.concat(ind);\r\n        return this.getNode(nodePath, nodeModel, nodeModels, isVisible);\r\n      })\r\n    },\r\n\r\n    getNode(\r\n      path,\r\n      nodeModel = null,\r\n      siblings = null,\r\n      isVisible = null\r\n    ) {\r\n      const ind = path.slice(-1)[0];\r\n\r\n      // calculate nodeModel, siblings, isVisible fields if it is not passed as arguments\r\n      siblings = siblings || this.getNodeSiblings(this.currentValue, path);\r\n      nodeModel = nodeModel || (siblings && siblings[ind]) || null;\r\n\r\n      if (isVisible == null) {\r\n        isVisible = this.isVisible(path);\r\n      }\r\n\r\n      if (!nodeModel) return null;\r\n\r\n      const isExpanded = nodeModel.isExpanded == void 0 ? true : !!nodeModel.isExpanded;\r\n      const isDraggable = nodeModel.isDraggable == void 0 ? true : !!nodeModel.isDraggable;\r\n      const isSelectable = nodeModel.isSelectable == void 0 ? true : !!nodeModel.isSelectable;\r\n\r\n      const node = {\r\n\r\n        // define the all ISlTreeNodeModel props\r\n        title: nodeModel.title,\r\n        isLeaf: !!nodeModel.isLeaf,\r\n        children: nodeModel.children ? this.getNodes(nodeModel.children, path, isExpanded) : [],\r\n        isSelected: !!nodeModel.isSelected,\r\n        isExpanded,\r\n        isVisible,\r\n        isDraggable,\r\n        isSelectable,\r\n        data: nodeModel.data !== void 0 ? nodeModel.data : {},\r\n\r\n        // define the all ISlTreeNode computed props\r\n        path: path,\r\n        pathStr: JSON.stringify(path),\r\n        level: path.length,\r\n        ind,\r\n        isFirstChild: ind == 0,\r\n        isLastChild: ind === siblings.length - 1\r\n      };\r\n      return node;\r\n    },\r\n\r\n    isVisible(path) {\r\n      if (path.length < 2) return true;\r\n      let nodeModels = this.currentValue;\r\n\r\n      for (let i = 0; i < path.length - 1; i++) {\r\n        let ind = path[i];\r\n        let nodeModel = nodeModels[ind];\r\n        let isExpanded = nodeModel.isExpanded == void 0 ? true : !!nodeModel.isExpanded;\r\n        if (!isExpanded) return false;\r\n        nodeModels = nodeModel.children;\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    emitInput(newValue) {\r\n      this.currentValue = newValue;\r\n      this.getRoot().$emit('input', newValue);\r\n    },\r\n\r\n    emitSelect(selectedNodes, event) {\r\n      this.getRoot().$emit('select', selectedNodes, event);\r\n    },\r\n\r\n    emitBeforeDrop(draggingNodes, position, cancel) {\r\n      this.getRoot().$emit('beforedrop', draggingNodes, position, cancel);\r\n    },\r\n\r\n    emitDrop(draggingNodes, position, event) {\r\n      this.getRoot().$emit('drop', draggingNodes, position, event);\r\n    },\r\n\r\n    emitToggle(toggledNode, event) {\r\n      this.getRoot().$emit('toggle', toggledNode, event);\r\n    },\r\n\r\n    emitNodeClick(node, event) {\r\n      this.getRoot().$emit('nodeclick', node, event);\r\n    },\r\n\r\n    emitNodeDblclick(node, event) {\r\n      this.getRoot().$emit('nodedblclick', node, event);\r\n    },\r\n\r\n    emitNodeContextmenu(node, event) {\r\n      this.getRoot().$emit('nodecontextmenu', node, event);\r\n    },\r\n\r\n    onExternalDragoverHandler(node, event) {\r\n      event.preventDefault();\r\n      const root = this.getRoot();\r\n      const cursorPosition = root.getCursorPositionFromCoords(event.clientX, event.clientY);\r\n      root.setCursorPosition(cursorPosition);\r\n      root.$emit('externaldragover', cursorPosition, event);\r\n    },\r\n\r\n    onExternalDropHandler(node, event) {\r\n      const root = this.getRoot();\r\n      const cursorPosition = root.getCursorPositionFromCoords(event.clientX, event.clientY);\r\n      root.$emit('externaldrop', cursorPosition, event);\r\n      this.setCursorPosition(null);\r\n    },\r\n\r\n    select(path, addToSelection = false, event = null) {\r\n      const multiselectKeys = Array.isArray(this.multiselectKey) ?\r\n        this.multiselectKey:\r\n        [this.multiselectKey];\r\n      const multiselectKeyIsPressed = event && !!multiselectKeys.find(key => event[key]);\r\n      addToSelection = (multiselectKeyIsPressed || addToSelection) && this.allowMultiselect ;\r\n\r\n      const selectedNode = this.getNode(path);\r\n      if (!selectedNode) return null;\r\n      const newNodes = this.copy(this.currentValue);\r\n      const shiftSelectionMode = this.allowMultiselect && event && event.shiftKey && this.lastSelectedNode;\r\n      const selectedNodes = [];\r\n      let shiftSelectionStarted = false;\r\n\r\n      this.traverse((node, nodeModel) => {\r\n\r\n\r\n        if (shiftSelectionMode) {\r\n          if (node.pathStr === selectedNode.pathStr || node.pathStr === this.lastSelectedNode.pathStr) {\r\n            nodeModel.isSelected = node.isSelectable;\r\n            shiftSelectionStarted = !shiftSelectionStarted;\r\n          }\r\n          if (shiftSelectionStarted) nodeModel.isSelected = node.isSelectable;\r\n        } else if (node.pathStr === selectedNode.pathStr) {\r\n          nodeModel.isSelected = node.isSelectable;\r\n        } else if (!addToSelection) {\r\n          if (nodeModel.isSelected) nodeModel.isSelected = false;\r\n        }\r\n\r\n        if (nodeModel.isSelected) selectedNodes.push(node);\r\n\r\n      }, newNodes);\r\n\r\n\r\n      this.lastSelectedNode = selectedNode;\r\n      this.emitInput(newNodes);\r\n      this.emitSelect(selectedNodes, event);\r\n      return selectedNode;\r\n    },\r\n\r\n    onMousemoveHandler(event) {\r\n      if (!this.isRoot) {\r\n        this.getRoot().onMousemoveHandler(event);\r\n        return;\r\n      }\r\n\r\n      if (this.preventDrag) return;\r\n\r\n      const initialDraggingState = this.isDragging;\r\n      const isDragging =\r\n        this.isDragging || (\r\n        this.mouseIsDown &&\r\n        (this.lastMousePos.x !== event.clientX || this.lastMousePos.y !== event.clientY)\r\n      );\r\n\r\n      const isDragStarted = initialDraggingState === false && isDragging === true;\r\n\r\n      this.lastMousePos = {\r\n        x: event.clientX,\r\n        y: event.clientY\r\n      };\r\n\r\n      if (!isDragging) return;\r\n\r\n      const $root = this.getRoot().$el;\r\n      const rootRect = $root.getBoundingClientRect();\r\n      const $dragInfo = this.$refs.dragInfo;\r\n      const dragInfoTop = (event.clientY - rootRect.top + $root.scrollTop - ($dragInfo.style.marginBottom | 0) );\r\n      const dragInfoLeft = (event.clientX - rootRect.left);\r\n\r\n      $dragInfo.style.top = dragInfoTop + 'px';\r\n      $dragInfo.style.left = dragInfoLeft + 'px';\r\n\r\n      const cursorPosition = this.getCursorPositionFromCoords(event.clientX, event.clientY);\r\n      const destNode = cursorPosition.node;\r\n      const placement = cursorPosition.placement;\r\n\r\n      if (isDragStarted && !destNode.isSelected) {\r\n        this.select(destNode.path, false, event);\r\n      }\r\n\r\n      const draggableNodes = this.getDraggable();\r\n      if (!draggableNodes.length) {\r\n        this.preventDrag = true;\r\n        return;\r\n      }\r\n\r\n      this.isDragging = isDragging;\r\n\r\n      this.setCursorPosition({ node: destNode, placement });\r\n\r\n      const scrollBottomLine = rootRect.bottom - this.scrollAreaHeight;\r\n      const scrollDownSpeed = (event.clientY - scrollBottomLine) / (rootRect.bottom - scrollBottomLine);\r\n      const scrollTopLine = rootRect.top + this.scrollAreaHeight;\r\n      const scrollTopSpeed = (scrollTopLine - event.clientY) / (scrollTopLine - rootRect.top);\r\n\r\n      if (scrollDownSpeed > 0) {\r\n        this.startScroll(scrollDownSpeed);\r\n      } else if (scrollTopSpeed > 0) {\r\n        this.startScroll(-scrollTopSpeed)\r\n      } else {\r\n        this.stopScroll();\r\n      }\r\n    },\r\n\r\n    getCursorPositionFromCoords(x, y) {\r\n      const $target = document.elementFromPoint(x, y);\r\n      const $nodeItem = $target.getAttribute('path') ? $target : this.getClosetElementWithPath($target);\r\n      let destNode;\r\n      let placement;\r\n\r\n      if ($nodeItem) {\r\n\r\n        if (!$nodeItem) return;\r\n\r\n        destNode = this.getNode(JSON.parse($nodeItem.getAttribute('path')));\r\n\r\n        const nodeHeight = $nodeItem.offsetHeight;\r\n        const edgeSize = this.edgeSize;\r\n        const offsetY = y - $nodeItem.getBoundingClientRect().top;\r\n\r\n\r\n        if (destNode.isLeaf) {\r\n          placement = offsetY >= nodeHeight / 2 ? 'after' : 'before';\r\n        } else {\r\n          if (offsetY <= edgeSize) {\r\n            placement = 'before';\r\n          } else if (offsetY >= nodeHeight - edgeSize) {\r\n            placement = 'after';\r\n          } else {\r\n            placement = 'inside';\r\n          }\r\n        }\r\n      } else {\r\n        const $root = this.getRoot().$el;\r\n        const rootRect = $root.getBoundingClientRect();\r\n        if (y > rootRect.top + (rootRect.height / 2)) {\r\n          placement = 'after';\r\n          destNode = this.getLastNode();\r\n        } else {\r\n          placement = 'before';\r\n          destNode = this.getFirstNode();\r\n        }\r\n      }\r\n\r\n      return { node: destNode, placement };\r\n    },\r\n\r\n    getClosetElementWithPath($el) {\r\n      if (!$el) return null;\r\n      if ($el.getAttribute('path')) return $el;\r\n      return this.getClosetElementWithPath($el.parentElement);\r\n    },\r\n\r\n    onMouseleaveHandler(event) {\r\n      if (!this.isRoot || !this.isDragging) return;\r\n      const $root = this.getRoot().$el;\r\n      const rootRect = $root.getBoundingClientRect();\r\n      if (event.clientY >= rootRect.bottom) {\r\n        this.setCursorPosition({ node: this.nodes.slice(-1)[0], placement: 'after' });\r\n      } else if (event.clientY < rootRect.top) {\r\n        this.setCursorPosition({ node: this.getFirstNode(), placement: 'before'});\r\n      }\r\n    },\r\n\r\n    getNodeEl(path) {\r\n      this.getRoot().$el.querySelector(`[path=\"${JSON.stringify(path)}\"]`);\r\n    },\r\n\r\n    getLastNode() {\r\n      let lastNode  = null;\r\n      this.traverse((node) => {\r\n        lastNode = node;\r\n      });\r\n      return lastNode;\r\n    },\r\n\r\n    getFirstNode() {\r\n      return this.getNode([0]);\r\n    },\r\n\r\n    getNextNode(path, filter = null) {\r\n\r\n      let resultNode = null;\r\n\r\n      this.traverse((node) => {\r\n        if (this.comparePaths(node.path, path) < 1) return;\r\n\r\n        if (!filter || filter(node)) {\r\n          resultNode = node;\r\n          return false; // stop traverse\r\n        }\r\n\r\n      });\r\n\r\n      return resultNode;\r\n    },\r\n\r\n    getPrevNode(path, filter) {\r\n      let prevNodes = [];\r\n\r\n      this.traverse((node) => {\r\n        if (this.comparePaths(node.path, path) >= 0) {\r\n          return false;\r\n        }\r\n        prevNodes.push(node);\r\n      });\r\n\r\n      let i = prevNodes.length;\r\n      while (i--) {\r\n        const node = prevNodes[i];\r\n        if (!filter || filter(node)) return node;\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    /**\r\n     * returns 1 if path1 > path2\r\n     * returns -1 if path1 < path2\r\n     * returns 0 if path1 == path2\r\n     *\r\n     * examples\r\n     *\r\n     * [1, 2, 3] < [1, 2, 4]\r\n     * [1, 1, 3] < [1, 2, 3]\r\n     * [1, 2, 3] > [1, 2, 0]\r\n     * [1, 2, 3] > [1, 1, 3]\r\n     * [1, 2] < [1, 2, 0]\r\n     *\r\n     */\r\n    comparePaths(path1, path2) {\r\n      for (let i = 0; i < path1.length; i++) {\r\n        if (path2[i] == void 0) return 1;\r\n        if (path1[i] > path2[i]) return 1;\r\n        if (path1[i] < path2[i]) return -1;\r\n      }\r\n      return path2[path1.length] == void 0 ? 0 : -1;\r\n    },\r\n\r\n    onNodeMousedownHandler(event, node) {\r\n      // handle only left mouse button\r\n      if (event.button !== 0) return;\r\n\r\n      if (!this.isRoot) {\r\n        this.getRoot().onNodeMousedownHandler(event, node);\r\n        return;\r\n      }\r\n      this.mouseIsDown = true;\r\n    },\r\n\r\n\r\n    startScroll(speed) {\r\n      const $root = this.getRoot().$el;\r\n      if (this.scrollSpeed === speed) {\r\n        return;\r\n      } else if (this.scrollIntervalId) {\r\n        this.stopScroll();\r\n      }\r\n\r\n      this.scrollSpeed = speed;\r\n      this.scrollIntervalId = setInterval(() => {\r\n        $root.scrollTop += this.maxScrollSpeed * speed;\r\n      }, 20);\r\n    },\r\n\r\n    stopScroll() {\r\n      clearInterval(this.scrollIntervalId);\r\n      this.scrollIntervalId = 0;\r\n      this.scrollSpeed = 0;\r\n    },\r\n\r\n    onDocumentMouseupHandler(event) {\r\n      if (this.isDragging) this.onNodeMouseupHandler(event);\r\n    },\r\n\r\n    onNodeMouseupHandler(event, targetNode = null) {\r\n\r\n      // handle only left mouse button\r\n      if (event.button !== 0) return;\r\n\r\n      if (!this.isRoot) {\r\n        this.getRoot().onNodeMouseupHandler(event, targetNode);\r\n        return;\r\n      }\r\n\r\n      this.mouseIsDown = false;\r\n\r\n      if (!this.isDragging && targetNode && !this.preventDrag) {\r\n        this.select(targetNode.path, false, event);\r\n      }\r\n\r\n      this.preventDrag = false;\r\n\r\n      if (!this.cursorPosition) {\r\n        this.stopDrag();\r\n        return;\r\n      }\r\n\r\n\r\n      const draggingNodes = this.getDraggable();\r\n\r\n      // check that nodes is possible to insert\r\n      for (let draggingNode of draggingNodes) {\r\n        if (draggingNode.pathStr == this.cursorPosition.node.pathStr) {\r\n          this.stopDrag();\r\n          return;\r\n        }\r\n\r\n        if (this.checkNodeIsParent(draggingNode, this.cursorPosition.node)) {\r\n          this.stopDrag();\r\n          return;\r\n        }\r\n      }\r\n\r\n      const newNodes = this.copy(this.currentValue);\r\n      const nodeModelsSubjectToInsert = [];\r\n\r\n      // find dragging model to delete\r\n      for (let draggingNode of draggingNodes) {\r\n        const sourceSiblings = this.getNodeSiblings(newNodes, draggingNode.path);\r\n        const draggingNodeModel = sourceSiblings[draggingNode.ind];\r\n        nodeModelsSubjectToInsert.push(draggingNodeModel);\r\n      }\r\n\r\n      // allow the drop to be cancelled\r\n      let cancelled = false;\r\n      this.emitBeforeDrop(draggingNodes, this.cursorPosition, () => cancelled = true);\r\n\r\n      if (cancelled) {\r\n          this.stopDrag();\r\n          return;\r\n      }\r\n\r\n      const nodeModelsToInsert = [];\r\n\r\n      // mark dragging model to delete\r\n      for (let draggingNodeModel of nodeModelsSubjectToInsert) {\r\n          nodeModelsToInsert.push(this.copy(draggingNodeModel));\r\n          draggingNodeModel['_markToDelete'] = true;\r\n      }\r\n\r\n      // insert dragging nodes to the new place\r\n      this.insertModels(this.cursorPosition, nodeModelsToInsert, newNodes);\r\n\r\n\r\n      // delete dragging node from the old place\r\n      this.traverseModels((nodeModel, siblings, ind) => {\r\n        if (!nodeModel._markToDelete) return;\r\n        siblings.splice(ind, 1);\r\n      }, newNodes);\r\n\r\n\r\n      this.lastSelectedNode = null;\r\n      this.emitInput(newNodes);\r\n      this.emitDrop(draggingNodes, this.cursorPosition, event);\r\n      this.stopDrag();\r\n    },\r\n\r\n\r\n    onToggleHandler(event, node) {\r\n      if (!this.allowToggleBranch) return;\r\n\r\n      this.updateNode(node.path, { isExpanded: !node.isExpanded });\r\n      this.emitToggle(node, event);\r\n      event.stopPropagation();\r\n    },\r\n\r\n    stopDrag() {\r\n      this.isDragging = false;\r\n      this.mouseIsDown = false;\r\n      this.setCursorPosition(null);\r\n      this.stopScroll();\r\n    },\r\n\r\n\r\n    getParent() {\r\n      return this.$parent;\r\n    },\r\n\r\n    getRoot() {\r\n      if (this.isRoot) return this;\r\n      return this.getParent().getRoot();\r\n    },\r\n\r\n    getNodeSiblings(nodes, path) {\r\n      if (path.length === 1) return nodes;\r\n      return this.getNodeSiblings(nodes[path[0]].children, path.slice(1));\r\n    },\r\n\r\n\r\n    updateNode(path, patch) {\r\n      if (!this.isRoot) {\r\n        this.getParent().updateNode(path, patch);\r\n        return;\r\n      }\r\n\r\n      const pathStr = JSON.stringify(path);\r\n      const newNodes = this.copy(this.currentValue);\r\n      this.traverse((node, nodeModel) => {\r\n        if (node.pathStr !== pathStr) return;\r\n        Object.assign(nodeModel, patch);\r\n      }, newNodes);\r\n\r\n      this.emitInput(newNodes);\r\n    },\r\n\r\n    getSelected() {\r\n      const selectedNodes = [];\r\n      this.traverse((node) => {\r\n        if (node.isSelected) selectedNodes.push(node);\r\n      });\r\n      return selectedNodes;\r\n    },\r\n\r\n    getDraggable() {\r\n      const selectedNodes = [];\r\n      this.traverse((node) => {\r\n        if (node.isSelected && node.isDraggable) selectedNodes.push(node);\r\n      });\r\n      return selectedNodes;\r\n    },\r\n\r\n\r\n    traverse(\r\n      cb,\r\n      nodeModels = null,\r\n      parentPath = []\r\n    ) {\r\n      if (!nodeModels) nodeModels = this.currentValue;\r\n\r\n      let shouldStop = false;\r\n\r\n      const nodes = [];\r\n\r\n      for (let nodeInd = 0; nodeInd < nodeModels.length; nodeInd++) {\r\n        const nodeModel = nodeModels[nodeInd];\r\n        const itemPath = parentPath.concat(nodeInd);\r\n        const node = this.getNode(itemPath, nodeModel, nodeModels);\r\n        shouldStop = cb(node, nodeModel, nodeModels) === false;\r\n        nodes.push(node);\r\n\r\n        if (shouldStop) break;\r\n\r\n        if (nodeModel.children) {\r\n          shouldStop = this.traverse(cb, nodeModel.children, itemPath) === false;\r\n          if (shouldStop) break;\r\n        }\r\n      }\r\n\r\n      return !shouldStop ? nodes : false;\r\n    },\r\n\r\n    traverseModels(cb, nodeModels) {\r\n      let i = nodeModels.length;\r\n      while (i--) {\r\n        const nodeModel = nodeModels[i];\r\n        if (nodeModel.children) this.traverseModels(cb, nodeModel.children);\r\n        cb(nodeModel, nodeModels, i);\r\n      }\r\n      return nodeModels;\r\n    },\r\n\r\n    remove(paths) {\r\n      const pathsStr = paths.map(path => JSON.stringify(path));\r\n      const newNodes = this.copy(this.currentValue);\r\n      this.traverse( (node, nodeModel, siblings) => {\r\n        for (const pathStr of pathsStr) {\r\n          if (node.pathStr === pathStr) nodeModel._markToDelete = true;\r\n        }\r\n      }, newNodes);\r\n\r\n      this.traverseModels((nodeModel, siblings, ind) => {\r\n        if (!nodeModel._markToDelete) return;\r\n        siblings.splice(ind, 1);\r\n      }, newNodes);\r\n\r\n      this.emitInput(newNodes);\r\n    },\r\n\r\n    insertModels(cursorPosition, nodeModels, newNodes) {\r\n      const destNode = cursorPosition.node;\r\n      const destSiblings = this.getNodeSiblings(newNodes, destNode.path);\r\n      const destNodeModel = destSiblings[destNode.ind];\r\n\r\n      if (cursorPosition.placement === 'inside') {\r\n        destNodeModel.children = destNodeModel.children || [];\r\n        destNodeModel.children.unshift(...nodeModels);\r\n      } else {\r\n        const insertInd = cursorPosition.placement === 'before' ?\r\n          destNode.ind :\r\n          destNode.ind + 1;\r\n\r\n        destSiblings.splice(insertInd, 0, ...nodeModels);\r\n      }\r\n    },\r\n\r\n    insert(cursorPosition, nodeModel) {\r\n      const nodeModels = Array.isArray(nodeModel) ? nodeModel : [nodeModel];\r\n      const newNodes = this.copy(this.currentValue);\r\n\r\n      this.insertModels(cursorPosition, nodeModels, newNodes);\r\n\r\n      this.emitInput(newNodes);\r\n    },\r\n\r\n    checkNodeIsParent(sourceNode, destNode) {\r\n      const destPath = destNode.path;\r\n      return JSON.stringify(destPath.slice(0, sourceNode.path.length)) == sourceNode.pathStr;\r\n    },\r\n\r\n    copy(entity) {\r\n      return JSON.parse(JSON.stringify(entity));\r\n    }\r\n\r\n  }\r\n};\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!./sl-vue-tree.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!./sl-vue-tree.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sl-vue-tree.vue?vue&type=template&id=ce3fd08a&\"\nimport script from \"./sl-vue-tree.js?vue&type=script&lang=js&\"\nexport * from \"./sl-vue-tree.js?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <span>\r\n      <sl-vue-tree\r\n        id=\"vue-file-tree\"\r\n        ref=\"slvuetree\"\r\n        :value=\"nodes\"\r\n        :allowMultiselect=\"false\"\r\n        @nodeclick=\"nodeClick\"\r\n        @nodedblclick=\"nodeDoubleClick\"\r\n        @select=\"nodeSelect\"\r\n        @toggle=\"nodeToggle\"\r\n        @drop=\"nodeDrop\"\r\n        @nodecontextmenu=\"nodeContextMenu\"\r\n        @externaldrop.prevent=\"onExternalDropHandler\"\r\n      >\r\n\r\n        <template slot=\"toggle\" slot-scope=\"{ node }\">\r\n          <span v-if=\"!node.isLeaf\">\r\n            <font-awesome-icon \r\n              icon=\"caret-right\" \r\n              v-if=\"!node.isExpanded\"\r\n            />\r\n            <font-awesome-icon \r\n              icon=\"caret-down\"\r\n              v-else-if=\"node.isExpanded\"\r\n            />\r\n          </span>\r\n        </template>\r\n\r\n        <template slot=\"title\" slot-scope=\"{ node }\">\r\n          <span v-if=\"node.title !== '_TREE_INPUT_FORM_'\">\r\n            <font-awesome-icon \r\n              :icon=\"[ 'fab', 'js' ]\" \r\n              v-if='node.data.type === \"application/javascript\"'\r\n            />\r\n            <font-awesome-icon \r\n              icon=\"table\" \r\n              v-else-if='node.data.type === \"application/json\"'\r\n            />\r\n            <font-awesome-icon \r\n              icon=\"image\" \r\n              v-else-if='node.data.type === \"IMAGE\"'\r\n            />\r\n            <font-awesome-icon \r\n              icon=\"code\" \r\n              v-else-if='node.data.type === \"EJS\"'\r\n            />\r\n            <font-awesome-icon \r\n              :icon=\"[ 'fab', 'vuejs' ]\" \r\n              v-else-if='node.data.type === \"VUEJS\"'\r\n            />\r\n            <font-awesome-icon \r\n              icon=\"file\" \r\n              v-else-if=\"node.isLeaf\"\r\n            />\r\n            {{ node.title === '_TREE_ROOT_NODE_' ? '/' : node.title }}\r\n          </span>\r\n          <b-form-input\r\n            v-else\r\n            class=\"node-name-input-form\"\r\n            autofocus\r\n            v-model=\"selectedInputNodeName.value\"\r\n            @input=\"handleChangeSelectedInputNodeName\"\r\n            @blur=\"handleBlurSelectedInputNodeName(node)\"\r\n            style=\"height: 27px;\"\r\n          />\r\n        </template>\r\n\r\n\r\n        <template slot=\"sidebar\" slot-scope=\"{ node }\">\r\n          <b-dropdown\r\n            v-if=\"node.title !== '_TREE_ROOT_NODE_'\"\r\n            ref=\"plusDropdownBtn\"\r\n            right\r\n            variant=\"link\"\r\n            class=\"plus-button\"\r\n            no-caret\r\n          >\r\n            <template #button-content>\r\n              <font-awesome-icon \r\n                icon=\"ellipsis-h\" \r\n                style=\"color: #999999; font-size: 13px;\"\r\n              />\r\n            </template>\r\n            <b-dropdown-item-button\r\n              @click.prevent.stop=\"renameNode(node)\"\r\n            >\r\n              이름 변경\r\n            </b-dropdown-item-button>\r\n            <b-dropdown-item-button\r\n              @click.prevent.stop=\"removeNode(node)\"\r\n            >\r\n              삭제\r\n            </b-dropdown-item-button>\r\n          </b-dropdown>\r\n        </template>\r\n    </sl-vue-tree>\r\n\r\n\r\n    <aside class=\"menu vue-file-tree-contextmenu\" \r\n      ref=\"contextmenu\" \r\n      v-show=\"contextMenuIsVisible\"\r\n    >\r\n      <slot name=\"context-menu\"></slot>\r\n    </aside>\r\n\r\n    <!-- <b-modal\r\n      ref=\"inputSelectedRenameModal\"\r\n      title=\"이름 변경\"\r\n      @ok=\"handleOkselectedInputNodeName\"\r\n      @hidden=\"handleHiddenselectedInputNodeName\"\r\n    >\r\n      <div class=\"d-block text-center\">\r\n        <p>새 이름을 입력해주세요.</p>\r\n      </div>\r\n      <b-form-input\r\n        v-model=\"selectedInputNodeName\"\r\n        placeholder=\"Enter folder name\"\r\n        autofocus\r\n      ></b-form-input>\r\n    </b-modal> -->\r\n\r\n    <b-modal\r\n      ref=\"inputSelectedFileNameModal\"\r\n      title=\"파일 추가\"\r\n      @ok=\"handleOkSelectedInputFileName\"\r\n      @hidden=\"handleHiddenSelectedInputFileName\"\r\n    >\r\n      <div class=\"d-block text-center\">\r\n        <p>추가할 파일 이름을 입력해주세요.</p>\r\n      </div>\r\n      <b-form-input\r\n        v-model=\"selectedInputFileName\"\r\n        placeholder=\"Enter file name\"\r\n        autofocus\r\n      ></b-form-input>\r\n    </b-modal>\r\n\r\n    <b-modal\r\n      ref=\"inputSelectedFolderNameModal\"\r\n      title=\"폴더 추가\"\r\n      @ok=\"handleOkSelectedInputFolderName\"\r\n      @hidden=\"handleHiddenSelectedInputFolderName\"\r\n    >\r\n      <div class=\"d-block text-center\">\r\n        <p>추가할 폴더 이름을 입력해주세요.</p>\r\n      </div>\r\n      <b-form-input\r\n        v-model=\"selectedInputFolderName\"\r\n        placeholder=\"Enter folder name\"\r\n        autofocus\r\n      ></b-form-input>\r\n    </b-modal>\r\n\r\n    </span>\r\n</template>\r\n\r\n<script>\r\n\r\nimport _ from 'lodash';\r\nimport path from 'path';\r\nimport util from 'util';\r\nimport splitter from './path-splitdirs';\r\n\r\nimport mime from 'mime';\r\n\r\nimport slVueTree from '@/components/sl-vue-tree/sl-vue-tree.vue';\r\nimport '@/components/sl-vue-tree/sl-vue-tree-code.css';\r\n\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport {\r\n  faCaretRight, faCaretDown, faTable, faImage, faFile, faCircle, faCode, faEllipsisH\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { faJs, faVuejs } from '@fortawesome/free-brands-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\r\n\r\nlibrary.add(faJs, faVuejs, faCaretRight, faCaretDown, faTable, faImage, faFile, faCircle, faCode, faEllipsisH);\r\n\r\n\r\n// TODO: Prevent dragging a file into a place where there's already one of the same name\r\n//       In such a case ask the user what to do?  How?\r\n\r\n// TODO: Support copy/paste\r\n\r\n// TODO: Support delete\r\n\r\n// TODO: move to own project -- publish as npm package\r\n\r\n/* var nodes = [\r\n    {title: 'Item1', isLeaf: true},\r\n    {title: 'Item2', isLeaf: true, data: { visible: false }},\r\n    {title: 'Folder1'},\r\n    {\r\n      title: 'Folder2', isExpanded: true, children: [\r\n        {title: 'Item3', isLeaf: true},\r\n        {title: 'Item4', isLeaf: true, data: { isModified: true }}\r\n      ]\r\n    }\r\n]; */\r\n\r\nexport default {\r\n  name: 'VueFileTree',\r\n  data() {\r\n    return {\r\n      nodes: [\r\n        {\r\n          \"title\": \"_TREE_ROOT_NODE_\",\r\n          \"isLeaf\": false,\r\n          \"children\": [],\r\n          \"data\": {\r\n            \"type\": \"DIRECTORY\",\r\n            \"pathname\": \"_TREE_ROOT_NODE_\",\r\n            \"content\": \"N/A\"\r\n          },\r\n          \"isSelected\": true,\r\n        }\r\n      ],\r\n      contextMenuIsVisible: false,\r\n\r\n      selectedInputNodeName: { value: '', _state: null, _feedback: '' },\r\n      selectedNode: null,\r\n\r\n      selectedInputFileName: '',\r\n      selectedInputFolderName: '',\r\n    }\r\n  },\r\n  components: {\r\n    'sl-vue-tree': slVueTree,\r\n    'font-awesome-icon': FontAwesomeIcon\r\n  },\r\n  created() {\r\n    /*\r\n     * Derived from Buefy's b-dropdown\r\n     * https://github.com/buefy/buefy/blob/dev/src/components/dropdown/Dropdown.vue\r\n     */\r\n    if (typeof window !== 'undefined') {\r\n      document.addEventListener('click', this.clickedOutside)\r\n    }\r\n  },\r\n  methods: {\r\n    handleChangeSelectedInputNodeName() {\r\n      const value = this.selectedInputNodeName.value;\r\n      console.log('handleChangeSelectedInputNodeName() - value: ', value);\r\n      if (!value.length === 0) {\r\n        this.selectedInputNodeName._state = false;\r\n        this.selectedInputNodeName._feedback = '필수 입력 항목입니다.';\r\n      } else {\r\n        this.selectedInputNodeName._state = true;\r\n        this.selectedInputNodeName._feedback = '';\r\n      }\r\n    },\r\n    handleBlurSelectedInputNodeName(node) {\r\n      if (this.selectedInputNodeName._state) {\r\n        const found = this.findDir(node.data.pathname);\r\n        found[0].title = this.selectedInputNodeName.value;\r\n        found[0].data.pathname = found[0].data.pathname.replace('_TREE_INPUT_FORM_', this.selectedInputNodeName.value);\r\n      }\r\n    },\r\n    getSelected() {\r\n      return this.$refs.slvuetree.getSelected();\r\n    },\r\n\r\n    setDefaultNode() {\r\n      // console.log('setDefaultNode() this.nodes[0]: ', this.nodes[0])\r\n      this.nodes[0].isSelected = true;\r\n    },\r\n        \r\n    nodeClick(node, event) {\r\n      this.$emit('nodeClick', event, node);\r\n    },\r\n    nodeDoubleClick(node, event) {\r\n      // console.log(`nodeDoubleClick ${node.title} ${node.data.type} isLeaf ${node.isLeaf} ${util.inspect(node)}`);\r\n      if (!node.isLeaf) {\r\n        this.$refs.slvuetree.onToggleHandler(event, node);\r\n        return;\r\n      }\r\n      this.$emit('nodeDoubleClick', node);\r\n    },\r\n    nodeSelect(node) {\r\n      // console.log(`nodeSelect ${util.inspect(node)}`);\r\n    },\r\n    nodeToggle(node) {\r\n      // console.log(`nodeToggle ${util.inspect(node)}`);\r\n    },\r\n    nodeDrop(node) {\r\n      // console.log(`nodeDrop ${util.inspect(node)}`);\r\n      this.$emit('nodeDrop', node);\r\n    },\r\n    nodeContextMenu(node, event) {\r\n      console.log(`nodeContextMenu ${util.inspect(node)}`);\r\n      this.contextMenuIsVisible = true;\r\n      const $contextMenu = this.$refs.contextmenu;\r\n      $contextMenu.style.left = event.clientX + 'px';\r\n      $contextMenu.style.top = event.clientY + 'px';\r\n    },\r\n    /**\r\n     * Close dropdown if clicked outside.\r\n     * Derived from Buefy's b-dropdown\r\n     * https://github.com/buefy/buefy/blob/dev/src/components/dropdown/Dropdown.vue\r\n     */\r\n    clickedOutside(event) {\r\n      if (!this.isInWhiteList(event.target)) this.contextMenuIsVisible = false;\r\n    },\r\n    // If the \"clickOutside\" is on a target where we should ignore the click\r\n    // then we should ignore this.  \r\n    // See: https://github.com/buefy/buefy/blob/dev/src/components/dropdown/Dropdown.vue\r\n    isInWhiteList(el) { return false; },\r\n    onExternalDropHandler(cursorPosition, event) {\r\n      console.log('external drop', cursorPosition, util.inspect(event));\r\n    },\r\n    addPathToTree(fn, content, isDir) {\r\n      // console.log(`addPathToTree() - ${fn} ${util.inspect(content)} ${isDir}`);\r\n      // console.log(`addPathToTree ${util.inspect(process)}`);\r\n      // console.log(util.inspect(path));\r\n      fn = path.normalize(fn);\r\n      const basenm = path.basename(fn);\r\n\r\n      const split = splitter(fn);\r\n\r\n      // console.log(`addPathToTree dirs ${util.inspect(split)}`);\r\n      let curnodes = this.nodes;\r\n      for (let dir of split.dirs) {\r\n        if (dir === '.') continue;\r\n        let found = undefined;\r\n        for (let cur of curnodes) {\r\n          if (cur.isLeaf === false && cur.title === dir) {\r\n            found = cur;\r\n            break;\r\n          }\r\n        }\r\n        if (!found) {\r\n          let newnode = {\r\n            title: dir, \r\n            isLeaf: false,\r\n            children: [],\r\n            data: { \r\n              type: \"DIRECTORY\",\r\n              pathname: split.dirs.slice(0, split.dirs.indexOf(dir) + 1).join('/'),\r\n              content: 'N/A',\r\n            }\r\n          };\r\n          // console.log(`addPathToTree() !found push newnode ${util.inspect(newnode)}`);\r\n          curnodes.push(newnode);\r\n          curnodes = newnode.children;\r\n        } else {\r\n          curnodes = found.children;\r\n        }\r\n      }\r\n      let newnode = {\r\n        title: basenm, \r\n        isLeaf: !isDir, \r\n        data: { \r\n          type: mime.getType(fn),\r\n          pathname: fn,\r\n          content\r\n        }\r\n      };\r\n      if (!newnode.data.type) newnode.data.type = \"text/plain\";\r\n      if (newnode.data.type.startsWith('image/')) newnode.data.type = \"IMAGE\";\r\n      if (fn.endsWith('.ejs')) newnode.data.type = \"EJS\";\r\n      if (fn.endsWith('.vue')) newnode.data.type = \"VUEJS\";\r\n      if (!newnode.isLeaf) newnode.children = [];\r\n      // console.log(`addPathToTree FINAL push newnode ${util.inspect(newnode)}`);\r\n      curnodes.push(newnode);\r\n\r\n      this.nodes[0].children = _.orderBy(this.nodes[0].children, ['isLeaf', 'title'], ['asc', 'asc']);\r\n\r\n      console.log(`addPathToTree: nodes: ${JSON.stringify(this.nodes, null, 4)}`);\r\n    },\r\n\r\n    findNode(pathname) {\r\n      console.log('findNode() - pathname: ', pathname);\r\n      const segments = pathname.split('/');\r\n\r\n      let parentNode = this.nodes;\r\n      let found = null;\r\n      let flag = false;\r\n\r\n      segments.forEach((segment) => {\r\n        found = _.find(parentNode, { title: segment });\r\n        console.log('findNode() - found: ', found);\r\n        if (found && !found.isLeaf) {\r\n            parentNode = found.children;\r\n        } else if (found) {\r\n            console.log(`FOUND: ${found.title}`);\r\n            flag = true;\r\n        } else {\r\n            console.error('NOT FOUND!!');\r\n        }\r\n      });\r\n\r\n      return flag ? found : null;\r\n    },\r\n    renameNode(node) {\r\n      this.selectedNode = node;\r\n      this.$refs.inputSelectedRenameModal.show();\r\n    },\r\n\r\n    handleOkselectedInputNodeName(e) {\r\n      e.preventDefault();\r\n            \r\n      console.log('selectedInputNodeName: ', this.selectedInputNodeName);\r\n      this.$nextTick(() => {\r\n        const found = this.findNode(this.selectedNode.data.pathname);\r\n        console.log(`handleOkselectedInputNodeName() found: ${JSON.stringify(found, null, 4)}`);\r\n        found.title = this.selectedInputNodeName;\r\n      });\r\n    },\r\n\r\n    handleHiddenselectedInputNodeName() {\r\n      this.selectedInputNodeName = '';\r\n    },\r\n\r\n    findParentNode(pathname) {\r\n      let parentNode = this.nodes;\r\n      let found = null;\r\n      let flag = false;\r\n\r\n      const segments = pathname.split('/');\r\n      segments.forEach((segment) => {\r\n        found = _.find(parentNode, { title: segment });\r\n        console.log(`findParentNode() found: ${JSON.stringify(found, null, 4)}`);\r\n        if (found && !found.isLeaf) {\r\n          parentNode = found.children;\r\n        } else if (found) {\r\n          flag = true;\r\n        } else {\r\n          console.error('NOT FOUND!!');\r\n        }\r\n      });\r\n\r\n      return flag ? parentNode : null;\r\n    },\r\n\r\n    findDir(pathname) {\r\n      let parentNode = this.nodes;\r\n      let found = null;\r\n      let flag = false;\r\n\r\n      const segments = pathname.split('/');\r\n      segments.forEach((segment, idx) => {\r\n        found = _.find(parentNode, { title: segment });\r\n        if (found && idx < segments.length - 1) {\r\n          parentNode = found.children;\r\n        } else if (found) {\r\n          flag = true;\r\n        } else {\r\n          console.error('NOT FOUND!!');\r\n        }\r\n      });\r\n\r\n      return flag ? parentNode : null;\r\n    },\r\n\r\n    removeNode(node) {\r\n      // console.log(`removeNode() node: ${JSON.stringify(node, null, 4)}`);\r\n      this.selectedNode = node;\r\n      let parentNode;\r\n      if (node.isLeaf) parentNode = this.findParentNode(node.data.pathname);\r\n      else parentNode = this.findDir(node.data.pathname);\r\n      const foundIdx = _.findIndex(parentNode, { title: node.title });\r\n      parentNode.splice(foundIdx, 1);\r\n    },\r\n\r\n    addFile(selectedNode) {\r\n      this.selectedNode = selectedNode;\r\n      this.$refs.inputSelectedFileNameModal.show();\r\n    },\r\n    handleOkSelectedInputFileName(e) {\r\n      e.preventDefault();\r\n\r\n      console.log('selectedInputFileName: ', this.selectedInputFileName);\r\n      this.$nextTick(() => {\r\n        this.$refs.inputSelectedFileNameModal.hide();\r\n      });\r\n\r\n      const fileName = `${this.selectedNode.data.pathname}/${this.selectedInputFileName}`;\r\n      console.log(`filename: ${fileName}`);\r\n      this.addPathToTree(fileName, this.emptyContent, false);\r\n    },\r\n    handleHiddenSelectedInputFileName() {\r\n      this.selectedInputFileName = '';\r\n    },\r\n    addFolder(selectedNode) {\r\n      this.selectedNode = selectedNode;\r\n      this.$refs.inputSelectedFolderNameModal.show();\r\n      this.handleOkSelectedInputFolderName();\r\n    },\r\n    handleOkSelectedInputFolderName(e) {\r\n      // e.preventDefault();\r\n            \r\n      console.log('selectedInputFolderName: ', this.selectedInputFolderName);\r\n      this.$nextTick(() => {\r\n        this.$refs.inputSelectedFolderNameModal.hide();\r\n      });\r\n\r\n      const folderName = `${this.selectedNode.data.pathname}/_TREE_INPUT_FORM_`;\r\n      console.log(`folderName: ${folderName}`);\r\n      this.addPathToTree(folderName, 'N/A', true);\r\n    },\r\n    handleHiddenSelectedInputFolderName() {\r\n      this.selectedInputFolderName = '';\r\n    },\r\n\r\n    removeAllNode() {\r\n      this.nodes = [];\r\n    },\r\n  },\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n/* .vue-file-tree-contextmenu {\r\n    position: absolute;\r\n    background-color: white;\r\n    color: black;\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n} */\r\n\r\n/* .vue-file-tree-contextmenu > div {\r\n    padding: 10px;\r\n} */\r\n\r\n/* .vue-file-tree-contextmenu > div:hover {\r\n    background-color: rgba(100, 100, 255, 0.5);\r\n} */\r\n\r\n#vue-file-tree {\r\n  height: 100%;\r\n}\r\n\r\n.sl-vue-tree {\r\n  position: relative;\r\n  cursor: default;\r\n  user-select: none;\r\n}\r\n\r\n.sl-vue-tree.sl-vue-tree-root {\r\n  /* border: 1px solid rgb(9, 22, 29); */\r\n  /* background-color: rgb(9, 22, 29); */\r\n  /* color: rgba(255, 255, 255, 0.5); */\r\n  /* border-radius: 3px; */\r\n}\r\n\r\n.sl-vue-tree-root > .sl-vue-tree-nodes-list {\r\n  overflow: hidden;\r\n  position: relative;\r\n  padding-bottom: 4px;\r\n}\r\n\r\n.sl-vue-tree-selected > .sl-vue-tree-node-item {\r\n  /* background-color: #13242d; */\r\n  /* color: white; */\r\n}\r\n\r\n.sl-vue-tree-node-item:hover,\r\n.sl-vue-tree-node-item.sl-vue-tree-cursor-hover {\r\n  /* color: white; */\r\n}\r\n\r\n.sl-vue-tree-node-item {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n  line-height: 28px;\r\n  border: 1px solid transparent;\r\n}\r\n\r\n\r\n.sl-vue-tree-node-item.sl-vue-tree-cursor-inside {\r\n  border: 1px solid rgba(255, 255, 255, 0.5);\r\n}\r\n\r\n.sl-vue-tree-gap {\r\n  width: 25px;\r\n  min-height: 1px;\r\n}\r\n\r\n.sl-vue-tree-toggle {\r\n  display: inline-block;\r\n  text-align: left;\r\n  width: 20px;\r\n}\r\n\r\n.sl-vue-tree-sidebar {\r\n  margin-left: auto;\r\n}\r\n\r\n.sl-vue-tree-cursor {\r\n  position: absolute;\r\n  border: 1px solid rgba(255, 255, 255, 0.5);\r\n  height: 1px;\r\n  width: 100%;\r\n}\r\n\r\n.sl-vue-tree-drag-info {\r\n  position: absolute;\r\n  background-color: rgba(0,0,0,0.5);\r\n  opacity: 0.5;\r\n  margin-left: 20px;\r\n  padding: 5px 10px;\r\n}\r\n\r\n.plus-button .dropdown-menu.dropdown-menu-right.show {\r\n  min-width: 80px;\r\n  font-size: 13px;\r\n}\r\n\r\n.node-name-input-form {\r\n  &.form-control {\r\n    min-width: 1px;  \r\n    display: inline-block !important;\r\n    width: auto;\r\n  }  \r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./vue-file-tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./vue-file-tree.vue?vue&type=template&id=60fe35b1&\"\nimport script from \"./vue-file-tree.vue?vue&type=script&lang=js&\"\nexport * from \"./vue-file-tree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vue-file-tree.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}