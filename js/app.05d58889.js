(function(e){function t(t){for(var o,s,a=t[0],l=t[1],c=t[2],u=0,f=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},i={app:0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/my-vue-online-editor/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1182:function(e,t,n){},"199c":function(e,t,n){"use strict";(function(e){n("e9c4"),n("b64b"),n("d3b7"),n("159b"),n("8a79"),n("3ca3"),n("ddb0"),n("25f0"),n("b0c0"),n("b680");var o=n("1970"),i=n("c4e3"),r=n.n(i),s=n("d9ae"),a=n("f4f4"),l=n("8f94"),c=(n("a7be"),n("0dd0"),n("56b3"),n("f9d4"),n("7b00"),n("d2de"),n("31c5"),n("d000"));t["a"]={name:"App",components:{NavBar:c["a"],VueFileTree:a["a"],codemirror:l["codemirror"]},data:function(){return{selectedZipFile:null,selectedNode:{isLeaf:!1,data:{content:""}},cmOptions:{tabSize:2,autofocus:!0,styleSelectedText:!0,mode:"text/javascript",styleActiveLine:!0,lineWrapping:!0,lineNumbers:!0,line:!0,gutters:["CodeMirror-lint-markers"],height:"auto",lint:!0,matchBrackets:!0,autoCloseBrackets:!0},sizes:[20,80],gutterSize:5,minSize:[150,300],maxSize:[500,1/0],cursor:"col-resize",handlerContent:'"use strict";\n\nmodule.exports = async (context, callback) => {\n    return {status: "handlerJs"};\n}',emptyContent:"",handlerContentPy:'"use strict";\n\nmodule.exports = async (context, callback) => {\n    return {status: "handlerPy"};\n}',packageContent:'{\n  "name": "examplejs",\n  "version": "0.1.0",\n  "private": true,\n  "scripts": {\n    "serve": "vue-cli-service serve",\n    "build": "vue-cli-service build",\n    "lint": "vue-cli-service lint"\n  }\n}'}},mounted:function(){var e=localStorage.getItem("split-sizes");e=e?JSON.parse(e):[20,80],this.sizes=e,Object(o["a"])(["#split-0","#split-1"],{sizes:e,gutterSize:this.gutterSize,minSize:this.minSize,maxSize:this.maxSize,cursor:this.cursor,onDragEnd:function(e){localStorage.setItem("split-sizes",JSON.stringify(e))}}),this.setDefaultFile()},methods:{setDefaultFile:function(){var e=this;this.$refs.filetree.setDefaultNode();var t=this.$refs.filetree.getSelected();this.$nextTick((function(){e.selectedNode=t[0]}))},addFile:function(){this.$refs.filetree.addFile(this.selectedNode)},addFolder:function(){this.$refs.filetree.addFolder(this.selectedNode)},importZip:function(){console.log("importZip is called.")},nodeClick:function(e,t){this.selectedNode=t},nodeDoubleClick:function(e){console.log("nodeDoubleClick: ",e.title)},nodeDrop:function(e){console.log("nodeDrop: ",e.title)},handleFileUpload:function(){var t=this;this.files=[],this.fileNames=[],this.selectedZipFile=this.$refs.file.files[0],this.$refs.filetree.removeAllNode();var n=new r.a;n.loadAsync(this.selectedZipFile).then((function(n){t.rawFileNames=Object.keys(n.files);var o=[];t.rawFileNames.forEach((function(e){e.endsWith("/")||(t.fileNames.push(e),o.push(n.file(e).async("uint8array")))})),Promise.all(o).then((function(n){t.fileNames.forEach((function(o,i){t.files.push({name:o,content:n[i]});var r=e.from(n[i]).toString();t.$refs.filetree.addPathToTree("_TREE_ROOT_NODE_/".concat(o),r,!1)})),t.setDefaultFile()}))}))},handleClickDownloadBtn:function(){var e=new r.a;this.files.forEach((function(t){e.file(t.name,t.content)})),e.generateAsync({type:"blob"},(function(e){var t="progression: "+e.percent.toFixed(2)+" %";e.currentFile&&(t+=", current file = "+e.currentFile),console.log(t)})).then((function(e){Object(s["saveAs"])(e,"example.zip"),console.log("done !")}),(function(e){console.log(e)}))}}}}).call(this,n("b639").Buffer)},2738:function(e,t,n){n("ac1f"),n("466d");var o=n("df7c"),i=n("74b3"),r=n("26a5"),s=!1;e.exports=function(e){e=i(e),e.match(/^[a-zA-Z]\:/)&&(s=!0,!1),e.indexOf("\\")>=0&&(s=!0,!1);var t=s?o.win32:o.posix;t||(t=o);var n=t.parse?t.parse(e):r(e);""===n.root&&(n.root=".");var a=n.dir,l=[];do{l.unshift(t.basename(a)),a=t.dirname(a)}while(a!==n.root);return n.dirs=l,n}},"2e3f":function(e,t,n){},"34ba":function(e,t,n){"use strict";n("1182")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("nav-bar"),n("div",{staticClass:"split"},[n("div",{staticClass:"content",attrs:{id:"split-0"}},[n("b-card",{staticClass:"aside",scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"explorer-header"},[n("h6",{staticClass:"mb-0"},[e._v("EXPLORER")]),n("b-dropdown",{ref:"plusDropdownBtn",staticClass:"plus-button",attrs:{right:"",variant:"link","no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("span",{staticClass:"btn-more text-dark"},[n("b-icon",{attrs:{icon:"plus"}})],1)]},proxy:!0}])},[e.selectedNode.isLeaf?e._e():n("b-dropdown-item-button",{on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.addFile.apply(null,arguments)}}},[e._v(" 새 파일 ")]),e.selectedNode.isLeaf?e._e():n("b-dropdown-item-button",{on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.addFolder.apply(null,arguments)}}},[e._v(" 새 폴더 ")]),e.selectedNode.isLeaf?e._e():n("b-dropdown-divider"),n("b-dropdown-item-button",[n("div",{staticClass:"filebox"},[n("label",{attrs:{for:"fileDialog"}},[e._v("zip 파일")]),n("input",{ref:"file",attrs:{type:"file",id:"fileDialog",accept:".zip",hidden:""},on:{change:function(t){return e.handleFileUpload()}}})])])],1)],1)]},proxy:!0}])},[n("vue-file-tree",{ref:"filetree",staticClass:"column",attrs:{id:"file-tree"},on:{nodeClick:e.nodeClick,nodeDoubleClick:e.nodeDoubleClick,nodeDrop:e.nodeDrop}})],1)],1),n("div",{staticClass:"content",attrs:{id:"split-1"}},[n("div",{staticClass:"editor-top"},[n("b-button",{attrs:{variant:"primary"}},[e._v("저장")])],1),n("codemirror",{ref:"codemirror",attrs:{value:e.selectedNode.data.content,options:e.cmOptions}})],1)])],1)},r=[],s=n("199c"),a=s["a"],l=(n("5c0b"),n("2877")),c=Object(l["a"])(a,i,r,!1,null,null,null),d=c.exports,u=n("5f5b"),f=n("b1e0");n("f9e3"),n("2dd8");o["default"].use(u["a"]),o["default"].use(f["a"]),o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},8391:function(e,t,n){},"9c0c":function(e,t,n){},bc73:function(e,t,n){"use strict";n("2e3f")},d000:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",[n("h1",[e._v("Online Code Editor Example")]),n("div",{staticClass:"description"},[n("a",{attrs:{href:"https://github.com/robogeek/vue-file-tree"}},[e._v("vue-file-tree")]),e._v("와 "),n("a",{attrs:{href:"https://www.npmjs.com/package/vue-codemirror"}},[e._v("vue-codemirror")]),e._v("를 사용해서 Online Code Editor를 구성한 예제입니다. ")])])}],r={name:"NavBar"},s=r,a=(n("34ba"),n("2877")),l=Object(a["a"])(s,o,i,!1,null,null,null);t["a"]=l.exports},d9ae:function(e,t,n){(function(t){var o=n("7037").default;n("ac1f"),n("00b4"),n("b0c0"),n("5319");var i="object"===("undefined"===typeof window?"undefined":o(window))&&window.window===window?window:"object"===("undefined"===typeof self?"undefined":o(self))&&self.self===self?self:"object"===("undefined"===typeof t?"undefined":o(t))&&t.global===t?t:this;function r(e,t){return"undefined"===typeof t?t={autoBom:!1}:"object"!==o(t)&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function s(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){d(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function l(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var c=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=i.saveAs||("object"!==("undefined"===typeof window?"undefined":o(window))||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(e,t,n){var o=i.URL||i.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener","string"===typeof e?(r.href=e,r.origin!==location.origin?a(r.href)?s(e,t,n):l(r,r.target="_blank"):l(r)):(r.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(r.href)}),4e4),setTimeout((function(){l(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"===typeof e)if(a(e))s(e,t,n);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){l(o)}))}else navigator.msSaveOrOpenBlob(r(e,n),t)}:function(e,t,n,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"===typeof e)return s(e,t,n);var r="application/octet-stream"===e.type,a=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||r&&a||c)&&"undefined"!==typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},d.readAsDataURL(e)}else{var u=i.URL||i.webkitURL,f=u.createObjectURL(e);o?o.location=f:location.href=f,o=null,setTimeout((function(){u.revokeObjectURL(f)}),4e4)}});i.saveAs=d.saveAs=d,e.exports=d}).call(this,n("c8ba"))},f4f4:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("sl-vue-tree",{ref:"slvuetree",attrs:{id:"vue-file-tree",value:e.nodes,allowMultiselect:!1},on:{nodeclick:e.nodeClick,nodedblclick:e.nodeDoubleClick,select:e.nodeSelect,toggle:e.nodeToggle,drop:e.nodeDrop,nodecontextmenu:e.nodeContextMenu,externaldrop:function(t){return t.preventDefault(),e.onExternalDropHandler.apply(null,arguments)}},scopedSlots:e._u([{key:"toggle",fn:function(t){var o=t.node;return[o.isLeaf?e._e():n("span",[o.isExpanded?o.isExpanded?n("font-awesome-icon",{attrs:{icon:"caret-down"}}):e._e():n("font-awesome-icon",{attrs:{icon:"caret-right"}})],1)]}},{key:"title",fn:function(t){var o=t.node;return["_TREE_INPUT_FORM_"!==o.title?n("span",["application/javascript"===o.data.type?n("font-awesome-icon",{attrs:{icon:["fab","js"]}}):"application/json"===o.data.type?n("font-awesome-icon",{attrs:{icon:"table"}}):"IMAGE"===o.data.type?n("font-awesome-icon",{attrs:{icon:"image"}}):"EJS"===o.data.type?n("font-awesome-icon",{attrs:{icon:"code"}}):"VUEJS"===o.data.type?n("font-awesome-icon",{attrs:{icon:["fab","vuejs"]}}):o.isLeaf?n("font-awesome-icon",{attrs:{icon:"file"}}):e._e(),e._v(" "+e._s("_TREE_ROOT_NODE_"===o.title?"/":o.title)+" ")],1):n("b-form-input",{staticClass:"node-name-input-form",staticStyle:{height:"27px"},attrs:{autofocus:""},on:{input:e.handleChangeSelectedInputNodeName,blur:function(t){return e.handleBlurSelectedInputNodeName(o)}},model:{value:e.selectedInputNodeName.value,callback:function(t){e.$set(e.selectedInputNodeName,"value",t)},expression:"selectedInputNodeName.value"}})]}},{key:"sidebar",fn:function(t){var o=t.node;return["_TREE_ROOT_NODE_"!==o.title?n("b-dropdown",{ref:"plusDropdownBtn",staticClass:"plus-button",attrs:{right:"",variant:"link","no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("font-awesome-icon",{staticStyle:{color:"#999999","font-size":"13px"},attrs:{icon:"ellipsis-h"}})]},proxy:!0}],null,!0)},[n("b-dropdown-item-button",{on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.renameNode(o)}}},[e._v(" 이름 변경 ")]),n("b-dropdown-item-button",{on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.removeNode(o)}}},[e._v(" 삭제 ")])],1):e._e()]}}])}),n("aside",{directives:[{name:"show",rawName:"v-show",value:e.contextMenuIsVisible,expression:"contextMenuIsVisible"}],ref:"contextmenu",staticClass:"menu vue-file-tree-contextmenu"},[e._t("context-menu")],2),n("b-modal",{ref:"inputSelectedFileNameModal",attrs:{title:"파일 추가"},on:{ok:e.handleOkSelectedInputFileName,hidden:e.handleHiddenSelectedInputFileName}},[n("div",{staticClass:"d-block text-center"},[n("p",[e._v("추가할 파일 이름을 입력해주세요.")])]),n("b-form-input",{attrs:{placeholder:"Enter file name",autofocus:""},model:{value:e.selectedInputFileName,callback:function(t){e.selectedInputFileName=t},expression:"selectedInputFileName"}})],1),n("b-modal",{ref:"inputSelectedFolderNameModal",attrs:{title:"폴더 추가"},on:{ok:e.handleOkSelectedInputFolderName,hidden:e.handleHiddenSelectedInputFolderName}},[n("div",{staticClass:"d-block text-center"},[n("p",[e._v("추가할 폴더 이름을 입력해주세요.")])]),n("b-form-input",{attrs:{placeholder:"Enter folder name",autofocus:""},model:{value:e.selectedInputFolderName,callback:function(t){e.selectedInputFolderName=t},expression:"selectedInputFolderName"}})],1)],1)},i=[],r=n("b85c"),s=(n("ac1f"),n("5319"),n("2ca0"),n("8a79"),n("e9c4"),n("a15b"),n("fb6a"),n("1276"),n("d3b7"),n("159b"),n("7db0"),n("c740"),n("a434"),n("99af"),n("2ef0")),a=n.n(s),l=n("df7c"),c=n.n(l),d=n("3022"),u=n.n(d),f=n("2738"),h=n.n(f),p=n("3b02"),v=n.n(p),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sl-vue-tree",class:{"sl-vue-tree-root":e.isRoot},on:{mousemove:e.onMousemoveHandler,mouseleave:e.onMouseleaveHandler,dragend:function(t){return e.onDragendHandler(null,t)}}},[n("div",{ref:"nodes",staticClass:"sl-vue-tree-nodes-list"},[e._l(e.nodes,(function(t,o){return n("div",{key:"tree-node-"+o,staticClass:"sl-vue-tree-node",class:{"sl-vue-tree-selected":t.isSelected}},[n("div",{staticClass:"sl-vue-tree-cursor sl-vue-tree-cursor_before",style:{visibility:e.cursorPosition&&e.cursorPosition.node.pathStr===t.pathStr&&"before"===e.cursorPosition.placement?"visible":"hidden","--depth":e.depth},on:{dragover:function(e){e.preventDefault()}}}),n("div",{staticClass:"sl-vue-tree-node-item",class:{"sl-vue-tree-cursor-hover":e.cursorPosition&&e.cursorPosition.node.pathStr===t.pathStr,"sl-vue-tree-cursor-inside":e.cursorPosition&&"inside"===e.cursorPosition.placement&&e.cursorPosition.node.pathStr===t.pathStr,"sl-vue-tree-node-is-leaf":t.isLeaf,"sl-vue-tree-node-is-folder":!t.isLeaf},attrs:{path:t.pathStr},on:{mousedown:function(n){return e.onNodeMousedownHandler(n,t)},mouseup:function(n){return e.onNodeMouseupHandler(n,t)},contextmenu:function(n){return e.emitNodeContextmenu(t,n)},dblclick:function(n){return e.emitNodeDblclick(t,n)},click:function(n){return e.emitNodeClick(t,n)},dragover:function(n){return e.onExternalDragoverHandler(t,n)},drop:function(n){return e.onExternalDropHandler(t,n)}}},[e._l(e.gaps,(function(e,t){return n("div",{key:"tree-gap-"+t,staticClass:"sl-vue-tree-gap"})})),e.level&&e.showBranches?n("div",{staticClass:"sl-vue-tree-branch"},[e._t("branch",(function(){return[t.isLastChild?e._e():n("span",[e._v(" "+e._s(String.fromCharCode(9500))+e._s(String.fromCharCode(9472))+"  ")]),t.isLastChild?n("span",[e._v(" "+e._s(String.fromCharCode(9492))+e._s(String.fromCharCode(9472))+"  ")]):e._e()]}),{node:t})],2):e._e(),n("div",{staticClass:"sl-vue-tree-title"},[t.isLeaf?e._e():n("span",{staticClass:"sl-vue-tree-toggle",on:{click:function(n){return e.onToggleHandler(n,t)}}},[e._t("toggle",(function(){return[n("span",[e._v(" "+e._s(t.isLeaf?"":t.isExpanded?"-":"+")+" ")])]}),{node:t})],2),e._t("title",(function(){return[e._v(e._s(t.title))]}),{node:t}),!t.isLeaf&&0==t.children.length&&t.isExpanded?e._t("empty-node",null,{node:t}):e._e()],2),n("div",{staticClass:"sl-vue-tree-sidebar"},[e._t("sidebar",null,{node:t})],2)],2),t.children&&t.children.length&&t.isExpanded?n("sl-vue-tree",{attrs:{value:t.children,level:t.level,parentInd:o,allowMultiselect:e.allowMultiselect,allowToggleBranch:e.allowToggleBranch,edgeSize:e.edgeSize,showBranches:e.showBranches},on:{dragover:function(e){e.preventDefault()}},scopedSlots:e._u([{key:"title",fn:function(t){var n=t.node;return[e._t("title",(function(){return[e._v(e._s(n.title))]}),{node:n})]}},{key:"toggle",fn:function(t){var o=t.node;return[e._t("toggle",(function(){return[n("span",[e._v(" "+e._s(o.isLeaf?"":o.isExpanded?"-":"+")+" ")])]}),{node:o})]}},{key:"sidebar",fn:function(t){var n=t.node;return[e._t("sidebar",null,{node:n})]}},{key:"empty-node",fn:function(t){var n=t.node;return[!n.isLeaf&&0==n.children.length&&n.isExpanded?e._t("empty-node",null,{node:n}):e._e()]}}],null,!0)}):e._e(),n("div",{staticClass:"sl-vue-tree-cursor sl-vue-tree-cursor_after",style:{visibility:e.cursorPosition&&e.cursorPosition.node.pathStr===t.pathStr&&"after"===e.cursorPosition.placement?"visible":"hidden","--depth":e.depth},on:{dragover:function(e){e.preventDefault()}}})],1)})),e.isRoot?n("div",{directives:[{name:"show",rawName:"v-show",value:e.isDragging,expression:"isDragging"}],ref:"dragInfo",staticClass:"sl-vue-tree-drag-info"},[e._t("draginfo",(function(){return[e._v(" Items: "+e._s(e.selectionSize)+" ")]}))],2):e._e()],2)])},m=[],b=n("2909"),N=(n("a9e3"),n("4de4"),n("d81d"),{name:"sl-vue-tree",props:{value:{type:Array,default:function(){return[]}},edgeSize:{type:Number,default:3},showBranches:{type:Boolean,default:!1},level:{type:Number,default:0},parentInd:{type:Number},allowMultiselect:{type:Boolean,default:!0},allowToggleBranch:{type:Boolean,default:!0},multiselectKey:{type:[String,Array],default:function(){return["ctrlKey","metaKey"]},validator:function(e){var t=["ctrlKey","metaKey","altKey"],n=Array.isArray(e)?e:[e];return n=n.filter((function(e){return-1!==t.indexOf(e)})),!!n.length}},scrollAreaHeight:{type:Number,default:70},maxScrollSpeed:{type:Number,default:20}},data:function(){return{rootCursorPosition:null,scrollIntervalId:0,scrollSpeed:0,lastSelectedNode:null,mouseIsDown:!1,isDragging:!1,lastMousePos:{x:0,y:0},preventDrag:!1,currentValue:this.value}},mounted:function(){this.isRoot&&document.addEventListener("mouseup",this.onDocumentMouseupHandler)},beforeDestroy:function(){document.removeEventListener("mouseup",this.onDocumentMouseupHandler)},watch:{value:{handler:function(e){this.currentValue=e},deep:!0}},computed:{cursorPosition:function(){return this.isRoot?this.rootCursorPosition:this.getParent().cursorPosition},depth:function(){return this.gaps.length},nodes:function(){if(this.isRoot){var e=this.copy(this.currentValue);return this.getNodes(e)}return this.getParent().nodes[this.parentInd].children},gaps:function(){var e=[],t=this.level-1;this.showBranches||t++;while(t-- >0)e.push(t);return e},isRoot:function(){return!this.level},selectionSize:function(){return this.getSelected().length},dragSize:function(){return this.getDraggable().length}},methods:{setCursorPosition:function(e){this.isRoot?this.rootCursorPosition=e:this.getParent().setCursorPosition(e)},getNodes:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.map((function(i,r){var s=n.concat(r);return t.getNode(s,i,e,o)}))},getNode:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.slice(-1)[0];if(n=n||this.getNodeSiblings(this.currentValue,e),t=t||n&&n[i]||null,null==o&&(o=this.isVisible(e)),!t)return null;var r=void 0==t.isExpanded||!!t.isExpanded,s=void 0==t.isDraggable||!!t.isDraggable,a=void 0==t.isSelectable||!!t.isSelectable,l={title:t.title,isLeaf:!!t.isLeaf,children:t.children?this.getNodes(t.children,e,r):[],isSelected:!!t.isSelected,isExpanded:r,isVisible:o,isDraggable:s,isSelectable:a,data:void 0!==t.data?t.data:{},path:e,pathStr:JSON.stringify(e),level:e.length,ind:i,isFirstChild:0==i,isLastChild:i===n.length-1};return l},isVisible:function(e){if(e.length<2)return!0;for(var t=this.currentValue,n=0;n<e.length-1;n++){var o=e[n],i=t[o],r=void 0==i.isExpanded||!!i.isExpanded;if(!r)return!1;t=i.children}return!0},emitInput:function(e){this.currentValue=e,this.getRoot().$emit("input",e)},emitSelect:function(e,t){this.getRoot().$emit("select",e,t)},emitBeforeDrop:function(e,t,n){this.getRoot().$emit("beforedrop",e,t,n)},emitDrop:function(e,t,n){this.getRoot().$emit("drop",e,t,n)},emitToggle:function(e,t){this.getRoot().$emit("toggle",e,t)},emitNodeClick:function(e,t){this.getRoot().$emit("nodeclick",e,t)},emitNodeDblclick:function(e,t){this.getRoot().$emit("nodedblclick",e,t)},emitNodeContextmenu:function(e,t){this.getRoot().$emit("nodecontextmenu",e,t)},onExternalDragoverHandler:function(e,t){t.preventDefault();var n=this.getRoot(),o=n.getCursorPositionFromCoords(t.clientX,t.clientY);n.setCursorPosition(o),n.$emit("externaldragover",o,t)},onExternalDropHandler:function(e,t){var n=this.getRoot(),o=n.getCursorPositionFromCoords(t.clientX,t.clientY);n.$emit("externaldrop",o,t),this.setCursorPosition(null)},select:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=Array.isArray(this.multiselectKey)?this.multiselectKey:[this.multiselectKey],r=o&&!!i.find((function(e){return o[e]}));n=(r||n)&&this.allowMultiselect;var s=this.getNode(e);if(!s)return null;var a=this.copy(this.currentValue),l=this.allowMultiselect&&o&&o.shiftKey&&this.lastSelectedNode,c=[],d=!1;return this.traverse((function(e,o){l?(e.pathStr!==s.pathStr&&e.pathStr!==t.lastSelectedNode.pathStr||(o.isSelected=e.isSelectable,d=!d),d&&(o.isSelected=e.isSelectable)):e.pathStr===s.pathStr?o.isSelected=e.isSelectable:n||o.isSelected&&(o.isSelected=!1),o.isSelected&&c.push(e)}),a),this.lastSelectedNode=s,this.emitInput(a),this.emitSelect(c,o),s},onMousemoveHandler:function(e){if(this.isRoot){if(!this.preventDrag){var t=this.isDragging,n=this.isDragging||this.mouseIsDown&&(this.lastMousePos.x!==e.clientX||this.lastMousePos.y!==e.clientY),o=!1===t&&!0===n;if(this.lastMousePos={x:e.clientX,y:e.clientY},n){var i=this.getRoot().$el,r=i.getBoundingClientRect(),s=this.$refs.dragInfo,a=e.clientY-r.top+i.scrollTop-(0|s.style.marginBottom),l=e.clientX-r.left;s.style.top=a+"px",s.style.left=l+"px";var c=this.getCursorPositionFromCoords(e.clientX,e.clientY),d=c.node,u=c.placement;o&&!d.isSelected&&this.select(d.path,!1,e);var f=this.getDraggable();if(f.length){this.isDragging=n,this.setCursorPosition({node:d,placement:u});var h=r.bottom-this.scrollAreaHeight,p=(e.clientY-h)/(r.bottom-h),v=r.top+this.scrollAreaHeight,g=(v-e.clientY)/(v-r.top);p>0?this.startScroll(p):g>0?this.startScroll(-g):this.stopScroll()}else this.preventDrag=!0}}}else this.getRoot().onMousemoveHandler(e)},getCursorPositionFromCoords:function(e,t){var n,o,i=document.elementFromPoint(e,t),r=i.getAttribute("path")?i:this.getClosetElementWithPath(i);if(r){if(!r)return;n=this.getNode(JSON.parse(r.getAttribute("path")));var s=r.offsetHeight,a=this.edgeSize,l=t-r.getBoundingClientRect().top;o=n.isLeaf?l>=s/2?"after":"before":l<=a?"before":l>=s-a?"after":"inside"}else{var c=this.getRoot().$el,d=c.getBoundingClientRect();t>d.top+d.height/2?(o="after",n=this.getLastNode()):(o="before",n=this.getFirstNode())}return{node:n,placement:o}},getClosetElementWithPath:function(e){return e?e.getAttribute("path")?e:this.getClosetElementWithPath(e.parentElement):null},onMouseleaveHandler:function(e){if(this.isRoot&&this.isDragging){var t=this.getRoot().$el,n=t.getBoundingClientRect();e.clientY>=n.bottom?this.setCursorPosition({node:this.nodes.slice(-1)[0],placement:"after"}):e.clientY<n.top&&this.setCursorPosition({node:this.getFirstNode(),placement:"before"})}},getNodeEl:function(e){this.getRoot().$el.querySelector('[path="'.concat(JSON.stringify(e),'"]'))},getLastNode:function(){var e=null;return this.traverse((function(t){e=t})),e},getFirstNode:function(){return this.getNode([0])},getNextNode:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=null;return this.traverse((function(i){if(!(t.comparePaths(i.path,e)<1))return!n||n(i)?(o=i,!1):void 0})),o},getPrevNode:function(e,t){var n=this,o=[];this.traverse((function(t){if(n.comparePaths(t.path,e)>=0)return!1;o.push(t)}));var i=o.length;while(i--){var r=o[i];if(!t||t(r))return r}return null},comparePaths:function(e,t){for(var n=0;n<e.length;n++){if(void 0==t[n])return 1;if(e[n]>t[n])return 1;if(e[n]<t[n])return-1}return void 0==t[e.length]?0:-1},onNodeMousedownHandler:function(e,t){0===e.button&&(this.isRoot?this.mouseIsDown=!0:this.getRoot().onNodeMousedownHandler(e,t))},startScroll:function(e){var t=this,n=this.getRoot().$el;this.scrollSpeed!==e&&(this.scrollIntervalId&&this.stopScroll(),this.scrollSpeed=e,this.scrollIntervalId=setInterval((function(){n.scrollTop+=t.maxScrollSpeed*e}),20))},stopScroll:function(){clearInterval(this.scrollIntervalId),this.scrollIntervalId=0,this.scrollSpeed=0},onDocumentMouseupHandler:function(e){this.isDragging&&this.onNodeMouseupHandler(e)},onNodeMouseupHandler:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===e.button)if(this.isRoot)if(this.mouseIsDown=!1,this.isDragging||!t||this.preventDrag||this.select(t.path,!1,e),this.preventDrag=!1,this.cursorPosition){var n,o=this.getDraggable(),i=Object(r["a"])(o);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s.pathStr==this.cursorPosition.node.pathStr)return void this.stopDrag();if(this.checkNodeIsParent(s,this.cursorPosition.node))return void this.stopDrag()}}catch(N){i.e(N)}finally{i.f()}var a,l=this.copy(this.currentValue),c=[],d=Object(r["a"])(o);try{for(d.s();!(a=d.n()).done;){var u=a.value,f=this.getNodeSiblings(l,u.path),h=f[u.ind];c.push(h)}}catch(N){d.e(N)}finally{d.f()}var p=!1;if(this.emitBeforeDrop(o,this.cursorPosition,(function(){return p=!0})),p)this.stopDrag();else{for(var v=[],g=0,m=c;g<m.length;g++){var b=m[g];v.push(this.copy(b)),b["_markToDelete"]=!0}this.insertModels(this.cursorPosition,v,l),this.traverseModels((function(e,t,n){e._markToDelete&&t.splice(n,1)}),l),this.lastSelectedNode=null,this.emitInput(l),this.emitDrop(o,this.cursorPosition,e),this.stopDrag()}}else this.stopDrag();else this.getRoot().onNodeMouseupHandler(e,t)},onToggleHandler:function(e,t){this.allowToggleBranch&&(this.updateNode(t.path,{isExpanded:!t.isExpanded}),this.emitToggle(t,e),e.stopPropagation())},stopDrag:function(){this.isDragging=!1,this.mouseIsDown=!1,this.setCursorPosition(null),this.stopScroll()},getParent:function(){return this.$parent},getRoot:function(){return this.isRoot?this:this.getParent().getRoot()},getNodeSiblings:function(e,t){return 1===t.length?e:this.getNodeSiblings(e[t[0]].children,t.slice(1))},updateNode:function(e,t){if(this.isRoot){var n=JSON.stringify(e),o=this.copy(this.currentValue);this.traverse((function(e,o){e.pathStr===n&&Object.assign(o,t)}),o),this.emitInput(o)}else this.getParent().updateNode(e,t)},getSelected:function(){var e=[];return this.traverse((function(t){t.isSelected&&e.push(t)})),e},getDraggable:function(){var e=[];return this.traverse((function(t){t.isSelected&&t.isDraggable&&e.push(t)})),e},traverse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t||(t=this.currentValue);for(var o=!1,i=[],r=0;r<t.length;r++){var s=t[r],a=n.concat(r),l=this.getNode(a,s,t);if(o=!1===e(l,s,t),i.push(l),o)break;if(s.children&&(o=!1===this.traverse(e,s.children,a),o))break}return!o&&i},traverseModels:function(e,t){var n=t.length;while(n--){var o=t[n];o.children&&this.traverseModels(e,o.children),e(o,t,n)}return t},remove:function(e){var t=e.map((function(e){return JSON.stringify(e)})),n=this.copy(this.currentValue);this.traverse((function(e,n,o){var i,s=Object(r["a"])(t);try{for(s.s();!(i=s.n()).done;){var a=i.value;e.pathStr===a&&(n._markToDelete=!0)}}catch(l){s.e(l)}finally{s.f()}}),n),this.traverseModels((function(e,t,n){e._markToDelete&&t.splice(n,1)}),n),this.emitInput(n)},insertModels:function(e,t,n){var o=e.node,i=this.getNodeSiblings(n,o.path),r=i[o.ind];if("inside"===e.placement){var s;r.children=r.children||[],(s=r.children).unshift.apply(s,Object(b["a"])(t))}else{var a="before"===e.placement?o.ind:o.ind+1;i.splice.apply(i,[a,0].concat(Object(b["a"])(t)))}},insert:function(e,t){var n=Array.isArray(t)?t:[t],o=this.copy(this.currentValue);this.insertModels(e,n,o),this.emitInput(o)},checkNodeIsParent:function(e,t){var n=t.path;return JSON.stringify(n.slice(0,e.path.length))==e.pathStr},copy:function(e){return JSON.parse(JSON.stringify(e))}}}),y=N,S=n("2877"),_=Object(S["a"])(y,g,m,!1,null,null,null),w=_.exports,D=(n("8391"),n("ecee")),x=n("c074"),C=n("f2d1"),k=n("ad3d");D["c"].add(C["a"],C["b"],x["b"],x["a"],x["h"],x["g"],x["f"],x["c"],x["d"],x["e"]);var I={name:"VueFileTree",data:function(){return{nodes:[{title:"_TREE_ROOT_NODE_",isLeaf:!1,children:[],data:{type:"DIRECTORY",pathname:"_TREE_ROOT_NODE_",content:"N/A"},isSelected:!0}],contextMenuIsVisible:!1,selectedInputNodeName:{value:"",_state:null,_feedback:""},selectedNode:null,selectedInputFileName:"",selectedInputFolderName:""}},components:{"sl-vue-tree":w,"font-awesome-icon":k["a"]},created:function(){"undefined"!==typeof window&&document.addEventListener("click",this.clickedOutside)},methods:{handleChangeSelectedInputNodeName:function(){var e=this.selectedInputNodeName.value;console.log("handleChangeSelectedInputNodeName() - value: ",e),0===!e.length?(this.selectedInputNodeName._state=!1,this.selectedInputNodeName._feedback="필수 입력 항목입니다."):(this.selectedInputNodeName._state=!0,this.selectedInputNodeName._feedback="")},handleBlurSelectedInputNodeName:function(e){if(this.selectedInputNodeName._state){var t=this.findDir(e.data.pathname);t[0].title=this.selectedInputNodeName.value,t[0].data.pathname=t[0].data.pathname.replace("_TREE_INPUT_FORM_",this.selectedInputNodeName.value)}},getSelected:function(){return this.$refs.slvuetree.getSelected()},setDefaultNode:function(){this.nodes[0].isSelected=!0},nodeClick:function(e,t){this.$emit("nodeClick",t,e)},nodeDoubleClick:function(e,t){e.isLeaf?this.$emit("nodeDoubleClick",e):this.$refs.slvuetree.onToggleHandler(t,e)},nodeSelect:function(e){},nodeToggle:function(e){},nodeDrop:function(e){this.$emit("nodeDrop",e)},nodeContextMenu:function(e,t){console.log("nodeContextMenu ".concat(u.a.inspect(e))),this.contextMenuIsVisible=!0;var n=this.$refs.contextmenu;n.style.left=t.clientX+"px",n.style.top=t.clientY+"px"},clickedOutside:function(e){this.isInWhiteList(e.target)||(this.contextMenuIsVisible=!1)},isInWhiteList:function(e){return!1},onExternalDropHandler:function(e,t){console.log("external drop",e,u.a.inspect(t))},addPathToTree:function(e,t,n){e=c.a.normalize(e);var o,i=c.a.basename(e),s=h()(e),l=this.nodes,d=Object(r["a"])(s.dirs);try{for(d.s();!(o=d.n()).done;){var u=o.value;if("."!==u){var f,p=void 0,g=Object(r["a"])(l);try{for(g.s();!(f=g.n()).done;){var m=f.value;if(!1===m.isLeaf&&m.title===u){p=m;break}}}catch(y){g.e(y)}finally{g.f()}if(p)l=p.children;else{var b={title:u,isLeaf:!1,children:[],data:{type:"DIRECTORY",pathname:s.dirs.slice(0,s.dirs.indexOf(u)+1).join("/"),content:"N/A"}};l.push(b),l=b.children}}}}catch(y){d.e(y)}finally{d.f()}var N={title:i,isLeaf:!n,data:{type:v.a.getType(e),pathname:e,content:t}};N.data.type||(N.data.type="text/plain"),N.data.type.startsWith("image/")&&(N.data.type="IMAGE"),e.endsWith(".ejs")&&(N.data.type="EJS"),e.endsWith(".vue")&&(N.data.type="VUEJS"),N.isLeaf||(N.children=[]),l.push(N),this.nodes[0].children=a.a.orderBy(this.nodes[0].children,["isLeaf","title"],["asc","asc"]),console.log("addPathToTree: nodes: ".concat(JSON.stringify(this.nodes,null,4)))},findNode:function(e){console.log("findNode() - pathname: ",e);var t=e.split("/"),n=this.nodes,o=null,i=!1;return t.forEach((function(e){o=a.a.find(n,{title:e}),console.log("findNode() - found: ",o),o&&!o.isLeaf?n=o.children:o?(console.log("FOUND: ".concat(o.title)),i=!0):console.error("NOT FOUND!!")})),i?o:null},renameNode:function(e){this.selectedNode=e,this.$refs.inputSelectedRenameModal.show()},handleOkselectedInputNodeName:function(e){var t=this;e.preventDefault(),console.log("selectedInputNodeName: ",this.selectedInputNodeName),this.$nextTick((function(){var e=t.findNode(t.selectedNode.data.pathname);console.log("handleOkselectedInputNodeName() found: ".concat(JSON.stringify(e,null,4))),e.title=t.selectedInputNodeName}))},handleHiddenselectedInputNodeName:function(){this.selectedInputNodeName=""},findParentNode:function(e){var t=this.nodes,n=null,o=!1,i=e.split("/");return i.forEach((function(e){n=a.a.find(t,{title:e}),console.log("findParentNode() found: ".concat(JSON.stringify(n,null,4))),n&&!n.isLeaf?t=n.children:n?o=!0:console.error("NOT FOUND!!")})),o?t:null},findDir:function(e){var t=this.nodes,n=null,o=!1,i=e.split("/");return i.forEach((function(e,r){n=a.a.find(t,{title:e}),n&&r<i.length-1?t=n.children:n?o=!0:console.error("NOT FOUND!!")})),o?t:null},removeNode:function(e){var t;this.selectedNode=e,t=e.isLeaf?this.findParentNode(e.data.pathname):this.findDir(e.data.pathname);var n=a.a.findIndex(t,{title:e.title});t.splice(n,1)},addFile:function(e){this.selectedNode=e,this.$refs.inputSelectedFileNameModal.show()},handleOkSelectedInputFileName:function(e){var t=this;e.preventDefault(),console.log("selectedInputFileName: ",this.selectedInputFileName),this.$nextTick((function(){t.$refs.inputSelectedFileNameModal.hide()}));var n="".concat(this.selectedNode.data.pathname,"/").concat(this.selectedInputFileName);console.log("filename: ".concat(n)),this.addPathToTree(n,this.emptyContent,!1)},handleHiddenSelectedInputFileName:function(){this.selectedInputFileName=""},addFolder:function(e){this.selectedNode=e,this.$refs.inputSelectedFolderNameModal.show(),this.handleOkSelectedInputFolderName()},handleOkSelectedInputFolderName:function(e){var t=this;console.log("selectedInputFolderName: ",this.selectedInputFolderName),this.$nextTick((function(){t.$refs.inputSelectedFolderNameModal.hide()}));var n="".concat(this.selectedNode.data.pathname,"/_TREE_INPUT_FORM_");console.log("folderName: ".concat(n)),this.addPathToTree(n,"N/A",!0)},handleHiddenSelectedInputFolderName:function(){this.selectedInputFolderName=""},removeAllNode:function(){this.nodes=[]}}},O=I,E=(n("bc73"),Object(S["a"])(O,o,i,!1,null,null,null));t["a"]=E.exports}});
//# sourceMappingURL=app.05d58889.js.map